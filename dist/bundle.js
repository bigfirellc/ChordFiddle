(()=>{var t={283:(t,e)=>{"use strict";function r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(){function t(e){var r=e.base,n=e.modifier,o=e.suffix,s=e.bassBase,a=e.bassModifier;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.base=r||null,this.modifier=n||null,this.suffix=o||null,this.bassBase=s||null,this.bassModifier=a||null}var e,s;return e=t,s=[{key:"clone",value:function(){var t=this.base,e=this.modifier,r=this.suffix,n=this.bassBase,o=this.bassModifier;return new this.constructor({base:t,modifier:e,suffix:r,bassBase:n,bassModifier:o})}},{key:"set",value:function(t){return new this.constructor(function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({base:this.base,modifier:this.modifier,suffix:this.suffix,bassBase:this.bassBase,bassModifier:this.bassModifier},t))}}],s&&o(e.prototype,s),t}();e.default=s},94:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,s=r(34);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}function u(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(h,t);var e,r,n,o,l=(n=h,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(n);if(o){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return u(this,t)});function h(){return a(this,h),l.apply(this,arguments)}return e=h,(r=[{key:"normalize",value:function(){return(0,s.processChord)(this,s.normalize)}},{key:"switchModifier",value:function(){return(0,s.processChord)(this,s.switchModifier)}},{key:"useModifier",value:function(t){return(0,s.processChord)(this,s.useModifier,t)}},{key:"transposeUp",value:function(){return(0,s.processChord)(this,s.transposeUp)}},{key:"transposeDown",value:function(){return(0,s.processChord)(this,s.transposeDown)}},{key:"transpose",value:function(t){return(0,s.processChord)(this,s.transpose,t)}},{key:"toString",value:function(){var t=this.base+(this.modifier||"")+(this.suffix||"");return this.bassBase?"".concat(t,"/").concat(this.bassBase).concat(this.bassModifier||""):t}}])&&i(e.prototype,r),h}(((o=r(283))&&o.__esModule?o:{default:o}).default);e.default=l},34:(t,e)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,s=[],a=!0,i=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(s.push(n.value),!e||s.length!==e);a=!0);}catch(t){i=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(i)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.keyUp=m,e.keyDown=u,e.normalize=c,e.internalSwitchModifier=l,e.switchModifier=function(t,e){var r=n(c(t,e),2),o=r[0],s=r[1];return e?l(o,s):[o,s]},e.useModifier=h,e.transposeUp=b,e.transposeDown=p,e.transpose=function(t,e,r){var o=t,s=e;if(r<0){var a=n(f(t,e,p,Math.abs(r)),2);o=a[0],s=a[1]}else if(r>0){var i=n(f(t,e,b,r),2);o=i[0],s=i[1]}return h(o,s,e)},e.processChord=function(t,e,r){var o=t.clone(),s=n(e(t.base,t.modifier,r),2);if(o.base=s[0],o.modifier=s[1],t.bassBase){var a=n(e(t.bassBase,t.bassModifier,r),2);o.bassBase=a[0],o.bassModifier=a[1]}return o},e.deprecate=function(t){try{throw new Error("DEPRECATION: ".concat(t))}catch(e){"object"===("undefined"==typeof process?"undefined":r(process))&&"function"==typeof process.emitWarning?process.emitWarning("".concat(t,"\n").concat(e.stack)):console.warn("".concat(t,"\n").concat(e.stack))}},e.isEmptyString=function(t){return null==t||""===t};var s="A".charCodeAt(0),a="G".charCodeAt(0);function i(t,e){var r;return r=t.toUpperCase().charCodeAt(0),(r+=e)>a&&(r=s),r<s&&(r=a),String.fromCharCode(r)}function m(t){return i(t,1)}function u(t){return i(t,-1)}function c(t,e){return"#"===e&&/^(B|E)$/.test(t)?[m(t),null]:"b"===e&&/^(C|F)$/.test(t)?[u(t),null]:[t,e]}function l(t,e){if("#"===e)return[m(t),"b"];if("b"===e)return[u(t),"#"];throw new Error("Unexpected modifier ".concat(e))}function h(t,e,r){return e&&e!==r?l(t,e):[t,e]}function f(t,e,r,o){for(var s=t,a=e,i=0;i<o;i+=1){var m=n(r(s,a),2);s=m[0],a=m[1]}return[s,a]}function b(t,e){var r=n(c(t,e),2),o=r[0],s=r[1];return"b"===s?[o,null]:"#"===s||/^(B|E)$/.test(o)?[m(o),null]:[o,"#"]}function p(t,e){var r=n(c(t,e),2),o=r[0],s=r[1];return"b"===s?[u(o),null]:"#"===s?[o,null]:/^(C|F)$/.test(o)?[u(o),null]:[o,"b"]}},662:(t,e,r)=>{"use strict";Object.defineProperty(e,"Qc",{enumerable:!0,get:function(){return o.default}});var n,o=(n=r(188))&&n.__esModule?n:{default:n};r(34)},958:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o;function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function i(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(c,t);var e,r,n,o,u=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(n);if(o){var r=m(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return i(this,t)});function c(t){var e=t.base,r=t.modifier,n=t.suffix,o=t.bassBase,s=t.bassModifier;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),u.call(this,{base:parseInt(e,10),modifier:r,suffix:n,bassBase:parseInt(o,10),bassModifier:s})}return e=c,(r=[{key:"toString",value:function(){var t=(this.modifier||"")+this.base+(this.suffix||"");return this.bassBase?"".concat(t,"/").concat(this.bassModifier||"").concat(this.bassBase):t}},{key:"normalize",value:function(){return this.clone()}},{key:"switchModifier",value:function(){return this.clone()}},{key:"transpose",value:function(){return this.clone()}},{key:"transposeUp",value:function(){return this.clone()}},{key:"transposeDown",value:function(){return this.clone()}},{key:"useModifier",value:function(){return this.clone()}}])&&s(e.prototype,r),c}(((o=r(283))&&o.__esModule?o:{default:o}).default);e.default=u},188:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(r(94)),s=a(r(958));function a(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,s=[],a=!0,i=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(s.push(n.value),!e||s.length!==e);a=!0);}catch(t){i=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(i)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(){u=function(t,e){return new r(t,void 0,e)};var t=RegExp.prototype,e=new WeakMap;function r(t,n,o){var s=new RegExp(t,n);return e.set(s,o||e.get(t)),l(s,r.prototype)}function o(t,r){var n=e.get(r);return Object.keys(n).reduce((function(e,r){return e[r]=t[n[r]],e}),Object.create(null))}return c(r,RegExp),r.prototype.exec=function(e){var r=t.exec.call(this,e);return r&&(r.groups=o(r,this)),r},r.prototype[Symbol.replace]=function(r,s){if("string"==typeof s){var a=e.get(this);return t[Symbol.replace].call(this,r,s.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+a[e]})))}if("function"==typeof s){var i=this;return t[Symbol.replace].call(this,r,(function(){var t=arguments;return"object"!==n(t[t.length-1])&&(t=[].slice.call(t)).push(o(t,i)),s.apply(this,t)}))}return t[Symbol.replace].call(this,r,s)},u.apply(this,arguments)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}var h=u(/^([A-G])(#|b)?((?:(?![\t-\r \/\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])*)(\/([A-G])(#|b)?)?$/i,{base:1,modifier:2,suffix:3,bassBase:5,bassModifier:6}),f=[[u(/^(#|b)?([1-7])((?:(?![\t-\r \/\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])*)(\/(#|b)?([0-7]))?$/,{modifier:1,base:2,suffix:3,bassModifier:5,bassBase:6}),s.default],[h,o.default]];e.default=function(t){for(var e=0,r=f.length;e<r;e+=1){var n=i(f[e],2),o=n[0],s=n[1],a=t.match(o);if(a)return new s(a.groups)}return null}},327:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var n=r(81),o=r.n(n),s=r(645),a=r.n(s)()(o());a.push([t.id,'*{box-sizing:border-box}html{height:100%}body{background-color:#2f3131;color:#f8f8f8;display:flex;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:1em;margin:0;max-height:100%;min-height:100%;padding:20px}#root{display:flex;flex:1 1 auto}a{color:#a3abb0;text-decoration:underline}a:hover{text-decoration:none}button,.button{-webkit-appearance:none;-moz-appearance:none;background-color:#3c82a9;border:0;color:#f8f8f8;cursor:pointer;display:inline-block;font-family:inherit;font-size:inherit;margin:0 10px 10px 0;padding:5px 10px;text-decoration:none}button.large,.button.large{padding:10px 20px}button:focus,.button:focus{box-shadow:0 0 3px 3px rgba(60,130,169,.5)}button:hover,.button:hover{text-decoration:none}.App{display:flex;flex:0 1 auto;flex-direction:column;max-height:100%;overflow:hidden;width:100%}.App__container{display:flex;flex:0 1 auto;flex-direction:column;height:100%;overflow:hidden}.App__columns{display:grid;flex:0 1 auto;gap:10px;grid-template-columns:repeat(2, 1fr);height:100%}.App__column{display:flex;flex-direction:column;max-height:100%;overflow:hidden}.ChordSheetEditor{background-color:#f8f8f8;border:none;color:#2f3131;flex:1 1 auto;font-family:Inconsolata,Monaco,"Andale Mono","Lucida Console","Bitstream Vera Sans Mono","Courier New",Courier,monospace;font-size:14px;outline:none;padding:10px;transition:background-color 100ms ease-out}.ChordSheetEditor:focus{background-color:#f8f8f8;box-shadow:0 0 3px 3px rgba(248,248,248,.5)}.ChordSheetViewer{background-color:#f8f8f8;color:#2f3131;flex:1 0 auto;overflow:auto;padding:10px;white-space:pre;width:100%}.ChordSheetViewer[data-mode=text]{font-family:Inconsolata,Monaco,"Andale Mono","Lucida Console","Bitstream Vera Sans Mono","Courier New",Courier,monospace;font-size:14px;outline-color:rgba(248,248,248,.5);transition:background-color 100ms ease-out}.ChordSheetViewer[data-mode=html] h2{font-size:1.1em}.ChordSheetViewer[data-mode=html] table{border-spacing:0;color:inherit}.ChordSheetViewer[data-mode=html] td{padding:3px 0}.ChordSheetViewer[data-mode=html] .chord:not(:last-child){padding-right:10px}.ChordSheetViewer[data-mode=html] .empty-line{height:1em}.ChordSheetViewer[data-mode=html] .paragraph{margin-bottom:1em}.EditorContainer{display:flex;flex-direction:row;flex:1 1 auto;max-height:100%;overflow:hidden}.EditorContainer__editor{border-left:1px #2f3131 solid;flex:1 0 auto}.EditorContainer__lineNumbers{flex:0 0 85px;margin-right:-20px;padding-right:48px}.EditorContainer__errorMessage{background:red;margin-top:10px;padding:10px}.EditorContainer__errorMessage:empty{display:none}.Header{color:#f8f8f8;flex:0 0 50px}.Header__wrapper{display:flex;padding:10px 5px}.Header__site-name{display:inline-block;flex:1 0 auto;font-family:Inconsolata,Monaco,"Andale Mono","Lucida Console","Bitstream Vera Sans Mono","Courier New",Courier,monospace;margin:0}.Header__site-name a,.Header__site-name a:hover{color:#ffae00;text-decoration:none}.Header__navigation{display:inline-block;flex:0 0 auto;list-style:none}.Header__navigation li{display:inline-block}.Header__navigation li+*{border-left:1px #f8f8f8 solid;margin-left:20px;padding-left:20px}.ImportDialog{background:#f8f8f8;border:1px #3c82a9 solid;box-shadow:0 0 5px #3c82a9;bottom:0;color:#2f3131;display:none;left:0;margin:auto;max-height:90vh;max-width:90vw;padding:30px 50px;position:absolute;right:0;top:0}.ImportDialog--visible{display:flex}.ImportDialog__close-button{background:rgba(0,0,0,0);color:#a3abb0;font-size:38.4px;font-weight:700;line-height:16px;position:absolute;right:2.5vw;text-decoration:none;top:2.5vw}.ImportDialog__contents{display:flex;flex:1 0 auto;flex-direction:column;max-height:100%;overflow:auto}.ImportDialog__buttons{padding-top:10px}.ImportDialog__editor{border:1px #3c82a9 solid}.LineNumbers{overflow:auto;text-align:right}.LineNumbers__error{color:red;display:inline-block;position:relative}.LineNumbers__error:after{content:"⚠️";font-size:22px;margin-top:-1px;position:absolute;right:-26px;top:50%;transform:translate(0, -50%)}.RadioGroup{list-style:none;margin:0;padding:10px 0}.RadioGroup__option{display:inline-block}.RadioGroup__option+.RadioGroup__option{margin-left:20px}.RadioGroup__radio{opacity:0;width:0}.RadioGroup__label{cursor:pointer;line-height:31px;padding-left:21px;position:relative}.RadioGroup__label:before,.RadioGroup__label:after{border-radius:50%;position:absolute;transform:translate(0, -50%);top:50%}.RadioGroup__label:before{background-color:#f8f8f8;content:"";height:14px;left:0;width:14px}.RadioGroup__radio:focus~.RadioGroup__label:before{border-color:#3c82a9;box-shadow:0 0 3px 3px #3c82a9}.RadioGroup__radio:checked~.RadioGroup__label:after{background-color:#3c82a9;content:"";height:8px;left:3px;width:8px}.Toolbar{display:flex;flex-wrap:wrap;list-style:none;margin:0;padding:10px 0 0 0}.Toolbar button,.Toolbar .button{height:31px}',""]);const i=a},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,o,s){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(n)for(var i=0;i<this.length;i++){var m=this[i][0];null!=m&&(a[m]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);n&&a[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),r&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=r):c[2]=r),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),e.push(c))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},20:t=>{"use strict";var e="%[a-f0-9]{2}",r=new RegExp(e,"gi"),n=new RegExp("("+e+")+","gi");function o(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],o(r),o(n))}function s(t){try{return decodeURIComponent(t)}catch(s){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=o(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=n.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var o=s(r[0]);o!==r[0]&&(e[r[0]]=o)}r=n.exec(t)}e["%C2"]="�";for(var a=Object.keys(e),i=0;i<a.length;i++){var m=a[i];t=t.replace(new RegExp(m,"g"),e[m])}return t}(t)}}},806:t=>{"use strict";t.exports=function(t,e){for(var r={},n=Object.keys(t),o=Array.isArray(e),s=0;s<n.length;s++){var a=n[s],i=t[a];(o?-1!==e.indexOf(a):e(a,i,t))&&(r[a]=i)}return r}},208:(t,e,r)=>{var n,o="__lodash_hash_undefined__",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,i=/^\./,m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,c=/^\[object .+?Constructor\]$/,l="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,h="object"==typeof self&&self&&self.Object===Object&&self,f=l||h||Function("return this")(),b=Array.prototype,p=Function.prototype,d=Object.prototype,y=f["__core-js_shared__"],g=(n=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",v=p.toString,x=d.hasOwnProperty,C=d.toString,w=RegExp("^"+v.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=f.Symbol,_=b.splice,S=I(f,"Map"),A=I(Object,"create"),E=j?j.prototype:void 0,M=E?E.toString:void 0;function L(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function k(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function T(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $(t,e){for(var r,n,o=t.length;o--;)if((r=t[o][0])===(n=e)||r!=r&&n!=n)return o;return-1}function O(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function I(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){if(!B(t)||g&&g in t)return!1;var e=function(t){var e=B(t)?C.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?w:c;return e.test(function(t){if(null!=t){try{return v.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(r)?r:void 0}L.prototype.clear=function(){this.__data__=A?A(null):{}},L.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},L.prototype.get=function(t){var e=this.__data__;if(A){var r=e[t];return r===o?void 0:r}return x.call(e,t)?e[t]:void 0},L.prototype.has=function(t){var e=this.__data__;return A?void 0!==e[t]:x.call(e,t)},L.prototype.set=function(t,e){return this.__data__[t]=A&&void 0===e?o:e,this},k.prototype.clear=function(){this.__data__=[]},k.prototype.delete=function(t){var e=this.__data__,r=$(e,t);return!(r<0||(r==e.length-1?e.pop():_.call(e,r,1),0))},k.prototype.get=function(t){var e=this.__data__,r=$(e,t);return r<0?void 0:e[r][1]},k.prototype.has=function(t){return $(this.__data__,t)>-1},k.prototype.set=function(t,e){var r=this.__data__,n=$(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},T.prototype.clear=function(){this.__data__={hash:new L,map:new(S||k),string:new L}},T.prototype.delete=function(t){return O(this,t).delete(t)},T.prototype.get=function(t){return O(this,t).get(t)},T.prototype.has=function(t){return O(this,t).has(t)},T.prototype.set=function(t,e){return O(this,t).set(t,e),this};var N=P((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(R(t))return M?M.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return i.test(t)&&r.push(""),t.replace(m,(function(t,e,n,o){r.push(n?o.replace(u,"$1"):e||t)})),r}));function D(t){if("string"==typeof t||R(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function P(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],s=r.cache;if(s.has(o))return s.get(o);var a=t.apply(this,n);return r.cache=s.set(o,a),a};return r.cache=new(P.Cache||T),r}P.Cache=T;var F=Array.isArray;function B(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function R(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==C.call(t)}t.exports=function(t,e,r){var n=null==t?void 0:function(t,e){var r;e=function(t,e){if(F(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!R(t))||a.test(t)||!s.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:F(r=e)?r:N(r);for(var n=0,o=e.length;null!=t&&n<o;)t=t[D(e[n++])];return n&&n==o?t:void 0}(t,e);return void 0===n?r:n}},961:(t,e,r)=>{var n,o=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function o(t,e){if(!n[t]){n[t]={};for(var r=0;r<t.length;r++)n[t][t.charAt(r)]=r}return n[t][e]}var s={compressToBase64:function(t){if(null==t)return"";var r=s._compress(t,6,(function(t){return e.charAt(t)}));switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:s._decompress(t.length,32,(function(r){return o(e,t.charAt(r))}))},compressToUTF16:function(e){return null==e?"":s._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:s._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=s.compress(t),r=new Uint8Array(2*e.length),n=0,o=e.length;n<o;n++){var a=e.charCodeAt(n);r[2*n]=a>>>8,r[2*n+1]=a%256}return r},decompressFromUint8Array:function(e){if(null==e)return s.decompress(e);for(var r=new Array(e.length/2),n=0,o=r.length;n<o;n++)r[n]=256*e[2*n]+e[2*n+1];var a=[];return r.forEach((function(e){a.push(t(e))})),s.decompress(a.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":s._compress(t,6,(function(t){return r.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),s._decompress(t.length,32,(function(e){return o(r,t.charAt(e))})))},compress:function(e){return s._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,r){if(null==t)return"";var n,o,s,a={},i={},m="",u="",c="",l=2,h=3,f=2,b=[],p=0,d=0;for(s=0;s<t.length;s+=1)if(m=t.charAt(s),Object.prototype.hasOwnProperty.call(a,m)||(a[m]=h++,i[m]=!0),u=c+m,Object.prototype.hasOwnProperty.call(a,u))c=u;else{if(Object.prototype.hasOwnProperty.call(i,c)){if(c.charCodeAt(0)<256){for(n=0;n<f;n++)p<<=1,d==e-1?(d=0,b.push(r(p)),p=0):d++;for(o=c.charCodeAt(0),n=0;n<8;n++)p=p<<1|1&o,d==e-1?(d=0,b.push(r(p)),p=0):d++,o>>=1}else{for(o=1,n=0;n<f;n++)p=p<<1|o,d==e-1?(d=0,b.push(r(p)),p=0):d++,o=0;for(o=c.charCodeAt(0),n=0;n<16;n++)p=p<<1|1&o,d==e-1?(d=0,b.push(r(p)),p=0):d++,o>>=1}0==--l&&(l=Math.pow(2,f),f++),delete i[c]}else for(o=a[c],n=0;n<f;n++)p=p<<1|1&o,d==e-1?(d=0,b.push(r(p)),p=0):d++,o>>=1;0==--l&&(l=Math.pow(2,f),f++),a[u]=h++,c=String(m)}if(""!==c){if(Object.prototype.hasOwnProperty.call(i,c)){if(c.charCodeAt(0)<256){for(n=0;n<f;n++)p<<=1,d==e-1?(d=0,b.push(r(p)),p=0):d++;for(o=c.charCodeAt(0),n=0;n<8;n++)p=p<<1|1&o,d==e-1?(d=0,b.push(r(p)),p=0):d++,o>>=1}else{for(o=1,n=0;n<f;n++)p=p<<1|o,d==e-1?(d=0,b.push(r(p)),p=0):d++,o=0;for(o=c.charCodeAt(0),n=0;n<16;n++)p=p<<1|1&o,d==e-1?(d=0,b.push(r(p)),p=0):d++,o>>=1}0==--l&&(l=Math.pow(2,f),f++),delete i[c]}else for(o=a[c],n=0;n<f;n++)p=p<<1|1&o,d==e-1?(d=0,b.push(r(p)),p=0):d++,o>>=1;0==--l&&(l=Math.pow(2,f),f++)}for(o=2,n=0;n<f;n++)p=p<<1|1&o,d==e-1?(d=0,b.push(r(p)),p=0):d++,o>>=1;for(;;){if(p<<=1,d==e-1){b.push(r(p));break}d++}return b.join("")},decompress:function(t){return null==t?"":""==t?null:s._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,r,n){var o,s,a,i,m,u,c,l=[],h=4,f=4,b=3,p="",d=[],y={val:n(0),position:r,index:1};for(o=0;o<3;o+=1)l[o]=o;for(a=0,m=Math.pow(2,2),u=1;u!=m;)i=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),a|=(i>0?1:0)*u,u<<=1;switch(a){case 0:for(a=0,m=Math.pow(2,8),u=1;u!=m;)i=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),a|=(i>0?1:0)*u,u<<=1;c=t(a);break;case 1:for(a=0,m=Math.pow(2,16),u=1;u!=m;)i=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),a|=(i>0?1:0)*u,u<<=1;c=t(a);break;case 2:return""}for(l[3]=c,s=c,d.push(c);;){if(y.index>e)return"";for(a=0,m=Math.pow(2,b),u=1;u!=m;)i=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),a|=(i>0?1:0)*u,u<<=1;switch(c=a){case 0:for(a=0,m=Math.pow(2,8),u=1;u!=m;)i=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),a|=(i>0?1:0)*u,u<<=1;l[f++]=t(a),c=f-1,h--;break;case 1:for(a=0,m=Math.pow(2,16),u=1;u!=m;)i=y.val&y.position,y.position>>=1,0==y.position&&(y.position=r,y.val=n(y.index++)),a|=(i>0?1:0)*u,u<<=1;l[f++]=t(a),c=f-1,h--;break;case 2:return d.join("")}if(0==h&&(h=Math.pow(2,b),b++),l[c])p=l[c];else{if(c!==f)return null;p=s+s.charAt(0)}d.push(p),l[f++]=s+p.charAt(0),s=p,0==--h&&(h=Math.pow(2,b),b++)}}};return s}();void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)},563:(t,e,r)=>{"use strict";const n=r(610),o=r(20),s=r(500),a=r(806),i=Symbol("encodeFragmentIdentifier");function m(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function c(t,e){return e.decode?o(t):t}function l(t){return Array.isArray(t)?t.sort():"object"==typeof t?l(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function h(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function f(t){const e=(t=h(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function b(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function p(t,e){m((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"colon-list-separator":return(t,r,n)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"comma":case"separator":return(e,r,n)=>{const o="string"==typeof r&&r.includes(t.arrayFormatSeparator),s="string"==typeof r&&!o&&c(r,t).includes(t.arrayFormatSeparator);r=s?c(r,t):r;const a=o||s?r.split(t.arrayFormatSeparator).map((e=>c(e,t))):null===r?r:c(r,t);n[e]=a};case"bracket-separator":return(e,r,n)=>{const o=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!o)return void(n[e]=r?c(r,t):r);const s=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>c(e,t)));void 0!==n[e]?n[e]=[].concat(n[e],s):n[e]=s};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),n=Object.create(null);if("string"!=typeof t)return n;if(!(t=t.trim().replace(/^[?#&]/,"")))return n;for(const o of t.split("&")){if(""===o)continue;let[t,a]=s(e.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:c(a,e),r(c(t,e),a,n)}for(const t of Object.keys(n)){const r=n[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=b(r[t],e);else n[t]=b(r,e)}return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce(((t,e)=>{const r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=l(r):t[e]=r,t}),Object.create(null))}e.extract=f,e.parse=p,e.stringify=(t,e)=>{if(!t)return"";m((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],n=function(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const o=r.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[",o,"]"].join("")]:[...r,[u(e,t),"[",u(o,t),"]=",u(n,t)].join("")]};case"bracket":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[]"].join("")]:[...r,[u(e,t),"[]=",u(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),":list="].join("")]:[...r,[u(e,t),":list=",u(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(n,o)=>void 0===o||t.skipNull&&null===o||t.skipEmptyString&&""===o?n:(o=null===o?"":o,0===n.length?[[u(r,t),e,u(o,t)].join("")]:[[n,u(o,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,u(e,t)]:[...r,[u(e,t),"=",u(n,t)].join("")]}}(e),o={};for(const e of Object.keys(t))r(e)||(o[e]=t[e]);const s=Object.keys(o);return!1!==e.sort&&s.sort(e.sort),s.map((r=>{const o=t[r];return void 0===o?"":null===o?u(r,e):Array.isArray(o)?0===o.length&&"bracket-separator"===e.arrayFormat?u(r,e)+"[]":o.reduce(n(r),[]).join("&"):u(r,e)+"="+u(o,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,n]=s(t,"#");return Object.assign({url:r.split("?")[0]||"",query:p(f(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:c(n,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[i]:!0},r);const n=h(t.url).split("?")[0]||"",o=e.extract(t.url),s=e.parse(o,{sort:!1}),a=Object.assign(s,t.query);let m=e.stringify(a,r);m&&(m=`?${m}`);let c=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(c=`#${r[i]?u(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${n}${m}${c}`},e.pick=(t,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[i]:!1},n);const{url:o,query:s,fragmentIdentifier:m}=e.parseUrl(t,n);return e.stringifyUrl({url:o,query:a(s,r),fragmentIdentifier:m},n)},e.exclude=(t,r,n)=>{const o=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,o,n)}},500:t=>{"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},610:t=>{"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},379:t=>{"use strict";var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var s={},a=[],i=0;i<t.length;i++){var m=t[i],u=n.base?m[0]+n.base:m[0],c=s[u]||0,l="".concat(u," ").concat(c);s[u]=c+1;var h=r(l),f={css:m[1],media:m[2],sourceMap:m[3],supports:m[4],layer:m[5]};if(-1!==h)e[h].references++,e[h].updater(f);else{var b=o(f,n);n.byIndex=i,e.splice(i,0,{identifier:l,updater:b,references:1})}a.push(l)}return a}function o(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,o){var s=n(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<s.length;a++){var i=r(s[a]);e[i].references--}for(var m=n(t,o),u=0;u<s.length;u++){var c=r(s[u]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}s=m}}},569:t=>{"use strict";var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,r)=>{"use strict";t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var s=r.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={id:n,exports:{}};return t[n](s,s.exports,r),s.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.nc=void 0,(()=>{"use strict";var t=r(208),e=r.n(t);function n(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,t+(r+=r.repeat(e)).slice(0,e))}class o extends Error{static buildMessage(t,e){function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function n(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(t=>"\\x0"+r(t))).replace(/[\x10-\x1F\x7F-\x9F]/g,(t=>"\\x"+r(t)))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(t=>"\\x0"+r(t))).replace(/[\x10-\x1F\x7F-\x9F]/g,(t=>"\\x"+r(t)))}function s(t){switch(t.type){case"literal":return'"'+n(t.text)+'"';case"class":const e=t.parts.map((t=>Array.isArray(t)?o(t[0])+"-"+o(t[1]):o(t)));return"["+(t.inverted?"^":"")+e+"]";case"any":return"any character";case"end":return"end of input";case"other":return t.description}}return"Expected "+function(t){const e=t.map(s);let r,n;if(e.sort(),e.length>0){for(r=1,n=1;r<e.length;r++)e[r-1]!==e[r]&&(e[n]=e[r],n++);e.length=n}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}(t)+" but "+((a=e)?'"'+n(a)+'"':"end of input")+" found.";var a}constructor(t,e,r,n){super(),this.message=t,this.expected=e,this.found=r,this.location=n,this.name="SyntaxError","function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(this,o.prototype):this.__proto__=o.prototype,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,o)}format(t){let e="Error: "+this.message;if(this.location){let r,o=null;for(r=0;r<t.length;r++)if(t[r].source===this.location.source){o=t[r].text.split(/\r\n|\n|\r/g);break}let s=this.location.start,a=this.location.source+":"+s.line+":"+s.column;if(o){let t=this.location.end,r=n("",s.line.toString().length," "),i=o[s.line-1],m=s.line===t.line?t.column:i.length+1;e+="\n --\x3e "+a+"\n"+r+" |\n"+s.line+" | "+i+"\n"+r+" | "+n("",s.column-1," ")+n("",m-s.column,"^")}else e+="\n at "+a}return e}}class s{constructor(t){this.string=t}evaluate(){return this.string}isRenderable(){return!0}clone(){return new s(this.string)}}var a=s;const i="verse",m="chorus",u="none",c="indeterminate",l="tab",h="symbol",f="numeric",b="numeral",p=["I","II","III","IV","V","VI","VII"],d="A".charCodeAt(0),y="G".charCodeAt(0),g=[null,0,2,4,5,7,9,11],v=[null,0,2,3,5,7,8,11];function x(t,e,r){let n=t;return n<e?n+=7:n>r&&(n-=7),n}class C{constructor({note:t,type:e,minor:r=!1}){this._note=t,this.type=e,this.minor=r}static parse(t){if(/^[A-Ga-g]$/.test(t))return new C({note:t.toUpperCase(),type:h});if(/^[1-7]$/.test(t))return new C({note:parseInt(t,10),type:f});const e=function(t){for(let e=0,r=p.length;e<r;e+=1){const r=p[e];if(r===t||r.toLowerCase()===t)return e+1}return null}(t);if(e)return new C({note:e,type:b,minor:t.toLowerCase()===t});throw new Error(`Invalid note ${t}`)}toNumeral(){if(this.isNumeral())return this.clone();if(this.isNumeric())return this.set({type:b});throw new Error(`Converting a ${this.type} note to numeral is not supported`)}toNumeric(){if(this.isNumeric())return this.clone();if(this.isNumeral())return this.set({type:f});throw new Error(`Converting a ${this.type} note to numeric is not supported`)}isMinor(){return this.minor}equals(t){return this._note===t._note&&this.type===t.type&&this.minor===t.minor}clone(){return this.set({})}up(){return this.change(1)}down(){return this.change(-1)}isOneOf(...t){return t.includes(this._note)}isNumeric(){return this.is(f)}isChordSymbol(){return this.is(h)}isNumeral(){return this.is(b)}is(t){return this.type===t}getTransposeDistance(t){return t?v[this._note]:g[this._note]}change(t){if(this.isChordSymbol()){let e;return e=this._note.toUpperCase().charCodeAt(0),e+=t,e=x(e,d,y),this.set({note:String.fromCharCode(e)})}let e=x(this._note+t,1,7);return e<1?e+=7:e>7&&(e-=7),this.set({note:e})}get note(){if(this.isNumeral()){const e=(t=this._note,p[t-1]);return this.isMinor()?e.toLowerCase():e}var t;return this._note}toString(){return this.type===b?`${this.minor?this.note.toLowerCase():this.note.toUpperCase()}`:`${this.note}`}set(t){return new C({note:this._note,type:this.type,minor:this.minor,...t})}}var w=C,j={Ab:{B:"Cb"},Cb:{B:"Cb","A#":"Bb",E:"Fb"},C:{"C#":"Db","D#":"Eb","F#":"Gb","G#":"Ab","A#":"Bb"},"C#":{"D#":"Eb","A#":"Bb"},Db:{B:"Cb","F#":"Gb"},D:{"D#":"Eb","A#":"Bb"},E:{Ab:"G#","A#":"Bb","D#":"Eb"},F:{"A#":"Bb","F#":"Gb","C#":"Db","D#":"Eb","G#":"Ab"},"F#":{"A#":"Bb","D#":"Eb"},Gb:{"A#":"Bb","D#":"Eb","G#":"Ab",B:"Cb",E:"Fb"},G:{"A#":"Bb","D#":"Eb","G#":"Ab"},"G#":{"A#":"Bb","D#":"Eb"},Am:{Gb:"G","G#":"Ab","F#":"Gb","C#":"Db","D#":"Eb","A#":"Bb"},Bbm:{Cb:"B"},Bm:{"A#":"Bb","D#":"Eb"},"C#m":{"A#":"Bb","D#":"Eb"},Cm:{"G#":"Ab","A#":"Bb","D#":"Eb","F#":"Gb","C#":"Db"},Dm:{"A#":"Bb","D#":"Eb"},Em:{"A#":"Bb","D#":"Eb"},"F#m":{"A#":"Bb","D#":"Eb",Gb:"F#",Ab:"G#",Db:"C#"},Fm:{"G#":"Ab","A#":"Bb","D#":"Eb","F#":"Gb","C#":"Db"},Gm:{"G#":"Ab","A#":"Bb","D#":"Eb"},"G#m":{"A#":"Bb","D#":"Eb"}};const _=t=>t.items.some((t=>!!t.chords)),S=t=>"function"==typeof t.evaluate,A=(t,e)=>{let r=t;for(let n=t.length;n<e;n+=1,r+=" ");return r},E=t=>t&&t.length>0,M=t=>E(t)?t:null;function L(t,e){return Object.entries(t).map((([t,r])=>{const n=Object.entries(r).map((([t,e])=>{return`${r=t,r.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}: ${e};`;var r})).join("\n  ");return`\n${`${e} ${t}`.trim()} {\n  ${n}\n}`.substring(1)})).join("\n\n")}function k(t,e,r){if(function(t){return null==t||""===t}(t))return null;for(let n=0,o=r.length;n<o;n+=1){const o=t.match(r[n]);if(o)return new e(o.groups)}return null}const T="b",$="#",O={[$]:1,[T]:-1},I=[/^(?<note>[A-G])(?<modifier>#|b)?(?<minor>m)?$/i,/^(?<modifier>#|b)?(?<note>[1-7])(?<minor>m)?$/,/^(?<modifier>#|b)?(?<note>I{1,3}|IV|VI{0,2}|i{1,3}|iv|vi{0,2})$/];class N{modifier=null;minor=!1;static parse(t){return k(t,N,I)}static wrap(t){return t instanceof N?t:this.parse(t)}static toString(t){return`${N.wrap(t)}`}static distance(t,e){return this.wrap(t).distanceTo(e)}distanceTo(t){const e=N.wrap(t);let r=this.useModifier(e.modifier),n=0;for(;!r.equals(e)&&n<20;)r=r.transposeUp().useModifier(e.modifier),n+=1;return n}constructor({note:t,modifier:e=null,minor:r=!1}){this.note=t instanceof w?t:w.parse(t),this.modifier=e||null,this.minor=!!r||!1,this.minor&&(this.note.minor=!0)}isMinor(){return this.minor||this.note.isMinor()}clone(){return this.set({})}toChordSymbol(t){if(this.is(h))return this.clone();const e=this.note.getTransposeDistance(t.minor)+(O[this.modifier]||0);return t.transpose(e).normalize().useModifier(t.modifier)}toChordSymbolString(t){return this.toChordSymbol(t).toString()}is(t){return this.note.is(t)}isNumeric(){return this.is(f)}isChordSymbol(){return this.is(h)}isNumeral(){return this.is(b)}equals({note:t,modifier:e=null}){return this.note.equals(t)&&this.modifier===e}toNumeric(t=null){return this.isNumeric()?this.clone():this.isNumeral()?this.set({note:this.note.toNumeric()}):this.transposeNoteUpToKey(1,t)}toNumericString(t=null){return this.toNumeric(t).toString()}toNumeral(t=null){return this.isNumeral()?this.clone():this.isNumeric()?this.set({note:this.note.toNumeral()}):this.transposeNoteUpToKey("I",t)}toNumeralString(t=null){return this.toNumeral(t).toString()}toString({showMinor:t=!0}={}){switch(this.note.type){case h:return this.formatChordSymbolString(t);case f:return this.formatNumericString(t);case b:return this.formatNumeralString();default:throw new Error(`Unexpected note type ${this.note.type}`)}}formatChordSymbolString(t){return`${this.note}${this.modifier||""}${this.minor&&t?"m":""}`}formatNumericString(t){return`${this.modifier||""}${this.note}${this.minor&&t?"m":""}`}formatNumeralString(){return`${this.modifier||""}${this.note}`}transpose(t){if(0===t)return this;const e=this.modifier;let r=this.clone();const n=t<0?"transposeDown":"transposeUp";for(let e=0,o=Math.abs(t);e<o;e+=1)r=r[n]();return r.useModifier(e)}transposeUp(){return this.modifier===T?this.set({modifier:null}):this.note.isOneOf(3,7,"E","B")?this.set({note:this.note.up()}):this.modifier===$?this.set({note:this.note.up(),modifier:null}):this.set({modifier:$})}transposeDown(){return this.modifier===$?this.set({modifier:null}):this.note.isOneOf(1,4,"C","F")?this.set({note:this.note.down()}):this.modifier===T?this.set({note:this.note.down(),modifier:null}):this.set({modifier:T})}useModifier(t){return this.modifier===T&&t===$?this.set({note:this.note.down(),modifier:$}):this.modifier===$&&t===T?this.set({note:this.note.up(),modifier:T}):this.clone()}normalize(){return this.modifier===$&&this.note.isOneOf(3,7,"E","B")?this.set({note:this.note.up(),modifier:null}):this.modifier===T&&this.note.isOneOf(1,4,"C","F")?this.set({note:this.note.down(),modifier:null}):this.clone()}normalizeEnharmonics(t){if(t){const e=N.wrap(t).toString({showMinor:!0}),r=j[e],n=this.toString({showMinor:!1});if(r&&r[n])return N.parse(r[n])}return this.clone()}set(t){return new N({note:this.note.clone(),modifier:this.modifier,minor:!!this.minor,...t})}transposeNoteUpToKey(t,e){let r=new N({note:t}),n=e.clone();const o=this.clone().normalize().useModifier(e.modifier).normalizeEnharmonics(e);for(;!n.equals(o);)r=r.transposeUp().useModifier(e.modifier),n=n.transposeUp().normalize().useModifier(e.modifier).normalizeEnharmonics(e);return r}}var D=N,P={2:"2",4:"sus",5:"5",6:"6",7:"7",9:"9",11:"11",13:"13",42:"4(2)",69:"6(9)","sus#42":"sus#42","sus(no5)":"sus(no5)",sus4:"sus",sus:"sus","ma9(-5)":"ma9(b5)","ma9-5":"ma9(b5)",ma9b5:"ma9(b5)","maj9(b5)":"ma9(b5)","+9(-5)":"ma9(b5)","M9-5":"ma9(b5)","+9b5":"ma9(b5)","+9(b5)":"ma9(b5)","maj9(-5)":"ma9(b5)","maj9-5":"ma9(b5)",maj9b5:"ma9(b5)","ma9(b5)":"ma9(b5)","ma9(-13+5)":"ma9(b13#5)","ma9-13+5":"ma9(b13#5)","ma7b13#5":"ma9(b13#5)","maj9(b13#5)":"ma9(b13#5)","+9(-13+5)":"ma9(b13#5)","M9-13+5":"ma9(b13#5)","+9b13#5":"ma9(b13#5)","+9(b13#5)":"ma9(b13#5)","maj9(-13+5)":"ma9(b13#5)","maj9-13+5":"ma9(b13#5)","maj9b13#5":"ma9(b13#5)","ma9(b13#5)":"ma9(b13#5)","ma9(-13)":"ma9(b13)","ma9-13":"ma9(b13)",ma7b13:"ma7(b13)","maj9(b13)":"ma9(b13)","+9(-13)":"ma9(b13)","M9-13":"ma9(b13)","+9b13":"ma9(b13)","+9(b13)":"ma9(b13)","maj9(-13)":"ma9(b13)","maj9-13":"ma9(b13)",maj9b13:"ma9(b13)","ma9(b13)":"ma9(b13)","ma9(13)":"ma9(13)","ma9(+5)":"ma9(#5)","ma9+5":"ma9(#5)","ma9#5":"ma9(#5)","maj9(#5)":"ma9(#5)","+9(+5)":"ma9(#5)","M9+5":"ma9(#5)","+9#5":"ma9(#5)","+9(#5)":"ma9(#5)","maj9(+5)":"ma9(#5)","maj9+5":"ma9(#5)","maj9#5":"ma9(#5)","ma9(#5)":"ma9(#5)","ma9(#4)":"ma9(#4)","ma9(+11+5)":"ma9(#11#5)","ma9+11+5":"ma9(#11#5)","ma7#11#5":"ma13(#11#5)","maj9(#11#5)":"ma9(#11#5)","+9(+11+5)":"ma9(#11#5)","M9+11+5":"ma9(#11#5)","+9#11#5":"ma9(#11#5)","+9(#11#5)":"ma9(#11#5)","maj9(+11+5)":"ma9(#11#5)","maj9+11+5":"ma9(#11#5)","maj9#11#5":"ma9(#11#5)","ma9(#11#5)":"ma9(#11#5)","ma9(+11)":"ma9(#11)","ma9+11":"ma9(#11)","ma7#11":"ma13(#11)","maj9(#11)":"ma9(#11)","+9(+11)":"ma9(#11)","M9+11":"ma9(#11)","+9#11":"ma9(#11)","+9(#11)":"ma9(#11)","maj9(+11)":"ma9(#11)","maj9+11":"ma9(#11)","maj9#11":"ma9(#11)","ma9(#11)":"ma9(#11)",maj9:"ma9",M9:"ma9","+9":"ma9",ma9:"ma9","9(#7)":"ma9","ma7(no3)":"ma7(no3)","ma7(-9)":"ma7(b9)","ma7-9":"ma7(b9)",ma7b9:"ma7(b9)","maj7(b9)":"ma7(b9)","+7(-9)":"ma7(b9)","M7-9":"ma7(b9)","+7b9":"ma7(b9)","+7(b9)":"ma7(b9)","maj7(-9)":"ma7(b9)","maj7-9":"ma7(b9)",maj7b9:"ma7(b9)","ma7(b9)":"ma7(b9)","ma7(-5)":"ma7(b5)","ma7-5":"ma7(b5)",ma7b5:"ma7(b5)","maj7(b5)":"ma7(b5)","+7(-5)":"ma7(b5)","M7-5":"ma7(b5)","+7b5":"ma7(b5)","+7(b5)":"ma7(b5)","maj7(-5)":"ma7(b5)","maj7-5":"ma7(b5)",maj7b5:"ma7(b5)","ma7(b5)":"ma7(b5)","ma7(-13)":"ma7(b13)","ma7-13":"ma7(b13)","maj7(b13)":"ma7(b13)","+7(-13)":"ma7(b13)","M7-13":"ma7(b13)","+7b13":"ma7(b13)","+7(b13)":"ma7(b13)","maj7(-13)":"ma7(b13)","maj7-13":"ma7(b13)",maj7b13:"ma7(b13)","ma7(b13)":"ma7(b13)","ma7(+9)":"ma7(#9)","ma7+9":"ma7(#9)","ma7#9":"ma7(#9)","maj7(#9)":"ma7(#9)","+7(+9)":"ma7(#9)","M7+9":"ma7(#9)","+7#9":"ma7(#9)","+7(#9)":"ma7(#9)","maj7(+9)":"ma7(#9)","maj7+9":"ma7(#9)","maj7#9":"ma7(#9)","ma7(#9)":"ma7(#9)","aug(maj7)":"ma7(#5)","aug(ma7)":"ma7(#5)","aug(+7)":"ma7(#5)","aug(M7)":"ma7(#5)","ma7(+5)":"ma7(#5)","ma7+5":"ma7(#5)","ma7#5":"ma7(#5)","maj7(#5)":"ma7(#5)","+7(+5)":"ma7(#5)","M7+5":"ma7(#5)","+7#5":"ma7(#5)","+7(#5)":"ma7(#5)","maj7(+5)":"ma7(#5)","maj7+5":"ma7(#5)","maj7#5":"ma7(#5)","ma7(#5)":"ma7(#5)","ma7(#4)":"ma7(#4)","ma7(+11)":"ma7(#11)","ma7+11":"ma7(#11)","maj7(#11)":"ma7(#11)","+7(+11)":"ma7(#11)","M7+11":"ma7(#11)","+7#11":"ma7(#11)","+7(#11)":"ma7(#11)","maj7(+11)":"ma7(#11)","maj7+11":"ma7(#11)","maj7#11":"ma7(#11)","ma7(#11)":"ma7(#11)","(triangle)":"ma7",maj7:"ma7",Maj7:"ma7",M7:"ma7","#7":"ma7","+7":"ma7",ma7:"ma7",ma69:"ma6(9)","ma6(9)":"ma6(9)",ma6:"ma6","ma13(-9+5)":"ma13(b9#5)","ma13-9+5":"ma13(b9#5)","ma7b9#5":"ma13(b9#5)","maj13(b9#5)":"ma13(b9#5)","+13(-9+5)":"ma13(b9#5)","M13-9+5":"ma13(b9#5)","+13b9#5":"ma13(b9#5)","+13(b9#5)":"ma13(b9#5)","maj13(-9+5)":"ma13(b9#5)","maj13-9+5":"ma13(b9#5)","maj13b9#5":"ma13(b9#5)","ma13(b9#5)":"ma13(b9#5)","ma13(-9)":"ma13(b9)","ma13-9":"ma13(b9)",ma13b9:"ma13(b9)","maj13(b9)":"ma13(b9)","+13(-9)":"ma13(b9)","M13-9":"ma13(b9)","+13b9":"ma13(b9)","+13(b9)":"ma13(b9)","maj13(-9)":"ma13(b9)","maj13-9":"ma13(b9)",maj13b9:"ma13(b9)","ma13(b9)":"ma13(b9)","ma13(-5)":"ma13(b5)","ma13-5":"ma13(b5)",ma13b5:"ma13(b5)","maj13(b5)":"ma13(b5)","+13(-5)":"ma13(b5)","M13-5":"ma13(b5)","+13b5":"ma13(b5)","+13(b5)":"ma13(b5)","maj13(-5)":"ma13(b5)","maj13-5":"ma13(b5)",maj13b5:"ma13(b5)","ma13(b5)":"ma13(b5)","ma13+9+5":"ma13(#9#5)","ma13(+9+5)":"ma13(#9#5)","ma7#9#5":"ma13(#9#5)","maj13(#9#5)":"ma13(#9#5)","+13+9+5":"ma13(#9#5)","M13(+9+5)":"ma13(#9#5)","+13#9#5":"ma13(#9#5)","+13(#9#5)":"ma13(#9#5)","maj13+9+5":"ma13(#9#5)","maj13(+9+5)":"ma13(#9#5)","maj13#9#5":"ma13(#9#5)","ma13(#9#5)":"ma13(#9#5)","ma13+9":"ma13(#9)","ma13(+9)":"ma13(#9)","ma13#9":"ma13(#9)","maj13(#9)":"ma13(#9)","+13+9":"ma13(#9)","M13(+9)":"ma13(#9)","+13#9":"ma13(#9)","+13(#9)":"ma13(#9)","maj13+9":"ma13(#9)","maj13(+9)":"ma13(#9)","maj13#9":"ma13(#9)","ma13(#9)":"ma13(#9)","ma13(+5)":"ma13(#5)","ma13+5":"ma13(#5)","ma13#5":"ma13(#5)","maj13(#5)":"ma13(#5)","+13(+5)":"ma13(#5)","M13+5":"ma13(#5)","+13#5":"ma13(#5)","+13(#5)":"ma13(#5)","maj13(+5)":"ma13(#5)","maj13+5":"ma13(#5)","maj13#5":"ma13(#5)","ma13(#5)":"ma13(#5)","ma13(+11+5)":"ma13(#11#5)","ma13+11+5":"ma13(#11#5)","maj13(#11#5)":"ma13(#11#5)","+13(+11+5)":"ma13(#11#5)","M13+11+5":"ma13(#11#5)","+13#11#5":"ma13(#11#5)","+13(#11#5)":"ma13(#11#5)","maj13(+11+5)":"ma13(#11#5)","maj13+11+5":"ma13(#11#5)","maj13#11#5":"ma13(#11#5)","ma13(#11#5)":"ma13(#11#5)","ma13(+11)":"ma13(#11)","ma13+11":"ma13(#11)","maj13(#11)":"ma13(#11)","+13(+11)":"ma13(#11)","M13+11":"ma13(#11)","+13#11":"ma13(#11)","+13(#11)":"ma13(#11)","maj13(+11)":"ma13(#11)","maj13+11":"ma13(#11)","maj13#11":"ma13(#11)","ma13(#11)":"ma13(#11)",M13:"ma13","+13":"ma13",ma13:"ma13","13(#7)":"ma13","ma11-9":"ma11(b9)","ma11(-9)":"ma11(b9)",ma11b9:"ma11(b9)","maj11(b9)":"ma11(b9)","+11-9":"ma11(b9)","M11(-9)":"ma11(b9)","+11b9":"ma11(b9)","+11(b9)":"ma11(b9)","maj11-9":"ma11(b9)","maj11(-9)":"ma11(b9)",maj11b9:"ma11(b9)","ma11(b9)":"ma11(b9)","ma11(-5)":"ma11(b5)","ma11-5":"ma11(b5)",ma11b5:"ma11(b5)","maj11(b5)":"ma11(b5)","+11(-5)":"ma11(b5)","M11-5":"ma11(b5)","+11b5":"ma11(b5)","+11(b5)":"ma11(b5)","maj11(-5)":"ma11(b5)","maj11-5":"ma11(b5)",maj11b5:"ma11(b5)","ma11(b5)":"ma11(b5)","ma11(-13)":"ma11(b13)","ma11-13":"ma11(b13)",ma11b13:"ma11(b13)","maj11(b13)":"ma11(b13)","+11(-13)":"ma11(b13)","M11-13":"ma11(b13)","+11b13":"ma11(b13)","+11(b13)":"ma11(b13)","maj11(-13)":"ma11(b13)","maj11-13":"ma11(b13)",maj11b13:"ma11(b13)","ma11(b13)":"ma11(b13)","ma11(+9)":"ma11(#9)","ma11+9":"ma11(#9)","ma11#9":"ma11(#9)","maj11(#9)":"ma11(#9)","+11(+9)":"ma11(#9)","M11+9":"ma11(#9)","+11#9":"ma11(#9)","+11(#9)":"ma11(#9)","maj11(+9)":"ma11(#9)","maj11+9":"ma11(#9)","maj11#9":"ma11(#9)","ma11(#9)":"ma11(#9)","ma11(+5)":"ma11(#5)","ma11+5":"ma11(#5)","ma11#5":"ma11(#5)","maj11(#5)":"ma11(#5)","+11(+5)":"ma11(#5)","M11+5":"ma11(#5)","+11#5":"ma11(#5)","+11(#5)":"ma11(#5)","maj11(+5)":"ma11(#5)","maj11+5":"ma11(#5)","maj11#5":"ma11(#5)","ma11(#5)":"ma11(#5)",M11:"ma11","+11":"ma11",ma11:"ma11","11(+7)":"ma11","11+7":"ma11","11#7":"ma11","11(#7)":"ma11",m9M7:"m9(ma7)","m9(M7)":"m9(ma7)","m9(+7)":"m9(ma7)","m9(maj7)":"m9(ma7)","m9(ma7)":"m9(ma7)","-9(-5)":"m9(b5)","-9-5":"m11(b5)","-9b5":"m9(b5)","-9(b5)":"m9(b5)","m9(-5)":"m9(b5)","m9-5":"m9(b5)",m9b5:"m9(b5)","m9(b5)":"m9(b5)","-9(-13)":"m9(b13)","-9-13":"m9(b13)","-9b13":"m9(b13)","-9(b13)":"m9(b13)","m9(-13)":"m9(b13)","m9-13":"m9(b13)",m9b13:"m9(b13)","m9(b13)":"m9(b13)","m9(#7)":"m9(#7)","-9(+5)":"m9(#5)","m9+5":"m11(#5)","-9#5":"m9(#5)","-9(#5)":"m9(#5)","m9(+5)":"m9(#5)","m9#5":"m9(#5)","m9(#5)":"m9(#5)","-9(+11)":"m9(#11)","-9+11":"m9(#11)","-9#11":"m9(#11)","-9(#11)":"m9(#11)","m9(+11)":"m9(#11)","m9+11":"m9(#11)","m9#11":"m9(#11)","m9(#11)":"m9(#11)","-9":"m9",min9:"m9",mi9:"m9",m9:"m9",m7sus:"m7sus4",m7sus4:"m7sus4","min7(no3)":"m7(no3)","m7(no3)":"m7(no3)","-7(-9)":"m7(b9)","m7-9":"m7(b9)","-7b9":"m7(b9)","-7(b9)":"m7(b9)","m7(-9)":"m7(b9)",m7b9:"m7(b9)","m7(b9)":"m7(b9)","-7(-5)":"m7(b5)","m7-5":"m7(b5)","-7b5":"m7(b5)","-7(b5)":"m7(b5)","m7(-5)":"m7(b5)",m7b5:"m7(b5)","m7(b5)":"m7(b5)","-7(-13)":"m7(b13)","-7-13":"m7(b13)","-7b13":"m7(b13)","-7(b13)":"m7(b13)","m7(-13)":"m7(b13)","m7-13":"m7(b13)",m7b13:"m7(b13)","m7(b13)":"m7(b13)","m7(add6)":"m7(6)","m7(6)":"m7(6)",m74:"m7(4)","m7(4)":"m7(4)","m7(add11)":"m7(4)","m7(add4)":"m7(4)","m7(11)":"m7(11)","-7(+9)":"m7(#9)","m7+9":"m7(#9)","-7#9":"m7(#9)","-7(#9)":"m7(#9)","m7(+9)":"m7(#9)","m7#9":"m7(#9)","m7(#9)":"m7(#9)","-7(+5)":"m7(#5)","m7+5":"m7(#5)","-7#5":"m7(#5)","-7(#5)":"m7(#5)","m7(+5)":"m7(#5)","m7#5":"m7(#5)","m7(#5)":"m7(#5)","-7(+11)":"m7(#11)","-7+11":"m7(#11)","-7#11":"m7(#11)","-7(#11)":"m7(#11)","m7(+11)":"m7(#11)","m7+11":"m7(#11)","m7#11":"m7(#11)","m7(#11)":"m7(#11)","-7":"m7",min7:"m7",mi7:"m7",m7:"m7","m6+7":"m6(ma7)",m6M7:"m6(ma7)","m6(+7)":"m6(ma7)","m6(M7)":"m6(ma7)","m6(ma7)":"m6(ma7)",m69:"m6(9)","m6(add9)":"m6(9)",m6add9:"m6(9)","m6(9)":"m6(9)","m6(#5)":"m6(#5)","-6":"m6",min6:"m6",mi6:"m6",m6:"m6",m4:"m4",madd2:"m2","m(add2)":"m2",min2:"m2",mi2:"m2",m2:"m2","-13(-13)":"m13(b9)","-13-13":"m13(b9)","-13b13":"m13(b9)","-13(b13)":"m13(b9)","m13(-9)":"m13(b9)","m13-9":"m13(b9)",m13b9:"m13(b9)","m13(b9)":"m13(b9)","-13(-5)":"m13(b5)","-13-5":"m13(b5)","-13b5":"m13(b5)","-13(b5)":"m13(b5)","m13(-5)":"m13(b5)","m13-5":"m13(b5)",m13b5:"m13(b5)","m13(b5)":"m13(b5)","-13+9":"m13(#9)","-13(+9)":"m13(#9)","-13#9":"m13(#9)","-13(#9)":"m13(#9)","m13+9":"m13(#9)","m13(+9)":"m13(#9)","m13#9":"m13(#9)","m13(#9)":"m13(#9)","-13(+5)":"m13(#5)","m13+5":"m13(#5)","-13#5":"m13(#5)","-13(#5)":"m13(#5)","m13(+5)":"m13(#5)","m13#5":"m13(#5)","m13(#5)":"m13(#5)","-13(+11)":"m13(#11)","-13+11":"m13(#11)","-13#11":"m13(#11)","-13(#11)":"m13(#11)","m13(+11)":"m13(#11)","m13+11":"m13(#11)","m13#11":"m13(#11)","m13(#11)":"m13(#11)","-13":"m13",min13:"m13",mi13:"m13",m13:"m13","-11-9-13":"m11(b9b13)","-11(-9-13)":"m11(b9b13)","-11b9b13":"m11(b9b13)","-11(b9b13)":"m11(b9b13)","m11-9-13":"m11(b9b13)","m11(-9-13)":"m11(b9b13)",m11b9b13:"m11(b9b13)","m11(b9b13)":"m11(b9b13)","-11(+5-9)":"m11(b9#5)","m9+5-9":"m11(b9#5)","-11#5b9":"m11(b9#5)","-11(#5b9)":"m11(b9#5)","m11(+5-9)":"m11(b9#5)","m11+5-9":"m11(b9#5)","m11#5b9":"m11(b9#5)","m11(#5b9)":"m11(b9#5)","m11(b9#5)":"m11(b9#5)","-11-9":"m11(b9)","-11(-9)":"m11(b9)","-11b9":"m11(b9)","-11(b9)":"m11(b9)","m11-9":"m11(b9)","m11(-9)":"m11(b9)",m11b9:"m11(b9)","m11(b9)":"m11(b9)","-11(-5-9)":"m11(b5b9)","-11-5-9":"m11(b5b9)","-11b5b9":"m11(b5b9)","-11(b5b9)":"m11(b5b9)","m11(-5-9)":"m11(b5b9)","m11-5-9":"m11(b5b9)",m11b5b9:"m11(b5b9)","m11(b5b9)":"m11(b5b9)","-11-5-13":"m11(b5b13)","-11(-5-13)":"m11(b5b13)","-11b5b13":"m11(b5b13)","-11(b5b13)":"m11(b5b13)","m11-5-13":"m11(b5b13)","m11(-5-13)":"m11(b5b13)",m11b5b13:"m11(b5b13)","m11(b5b13)":"m11(b5b13)","-11(-5+9)":"m11(b5#9)","-11-5+9":"m11(b5#9)","-11b5#9":"m11(b5#9)","-11(b5#9)":"m11(b5#9)","m11(-5+9)":"m11(b5#9)","m11-5+9":"m11(b5#9)","m11b5#9":"m11(b5#9)","m11(b5#9)":"m11(b5#9)","-11(-5)":"m11(b5)","-11b5":"m11(b5)","-11(b5)":"m11(b5)","m11(-5)":"m11(b5)","m11-5":"m11(b5)",m11b5:"m11(b5)","m11(b5)":"m11(b5)","-11(+5-13)":"m11(b13#5)","-11+5-13":"m11(b13#5)","-11#5b13":"m11(b13#5)","-11(#5b13)":"m11(b13#5)","m11(+5-13)":"m11(b13#5)","m11+5-13":"m11(b13#5)","m11#5b13":"m11(b13#5)","m11(#5b13)":"m11(b13#5)","m11(b13#5)":"m11(b13#5)","-11(-13)":"m11(b13)","-11-13":"m11(b13)","-11b13":"m11(b13)","-11(b13)":"m11(b13)","m11(-13)":"m11(b13)","m11-13":"m11(b13)",m11b13:"m11(b13)","m11(b13)":"m11(b13)","-11(+9-13)":"m11(#9b13)","-11+9-13":"m11(#9b13)","-11#9b13":"m11(#9b13)","-11(#9b13)":"m11(#9b13)","m11(+9-13)":"m11(#9b13)","m11+9-13":"m11(#9b13)","m11#9b13":"m11(#9b13)","m11(#9b13)":"m11(#9b13)","-11(+5+9)":"m11(#9#5)","m9+5+9":"m11(#9#5)","-11#5#9":"m11(#9#5)","-11(#5#9)":"m11(#9#5)","m11(+5+9)":"m11(#9#5)","m11+5+9":"m11(#9#5)","m11#5#9":"m11(#9#5)","m11(#5#9)":"m11(#9#5)","m11(#9#5)":"m11(#9#5)","-11(+9)":"m11(#9)","-11+9":"m11(#9)","-11#9":"m11(#9)","-11(#9)":"m11(#9)","m11(+9)":"m11(#9)","m11+9":"m11(#9)","m11#9":"m11(#9)","m11(#9)":"m11(#9)","-11(+5)":"m11(#5)","-11#5":"m11(#5)","-11(#5)":"m11(#5)","m11(+5)":"m11(#5)","m11+5":"m11(#5)","m11#5":"m11(#5)","m11(#5)":"m11(#5)","-11":"m11",min11:"m11",mi11:"m11",m11:"m11","m(no5)":"m(no5)","m+9":"m(ma9)","m(+9)":"m(ma9)","m(maj9)":"m(ma9)","min(maj9)":"m(ma9)","mi(maj9)":"m(ma9)","m(M9)":"m(ma9)","m(ma9)":"m(ma9)","m+7":"m(ma7)","m(+7)":"m(ma7)","m(maj7)":"m(ma7)","min(maj7)":"m(ma7)","mi(maj7)":"m(ma7)","m(M7)":"m(ma7)","m(ma7)":"m(ma7)","m(add9)":"m(9)","m(9)":"m(9)","m(add4)":"m(4)","m(4)":"m(4)","m(add11)":"m(11)","m(11)":"m(11)","-":"m",minor:"m",min:"m",mi:"m",m:"m","dim 7th":"dim7","dim 7":"dim7",o7:"dim7",dim7:"dim7","-b5":"dim","-(b5)":"dim","m(-5)":"dim","m-5":"dim",mb5:"dim","m(b5)":"dim",dim:"dim",b9sus:"b9sus",b69sus:"b69sus","b69(#11)":"b69(#11)",m9sus:"9sus4",m9sus4:"9sus4","9sus":"9sus4","9sus4":"9sus4","9aug":"9aug","9(-5)":"9(b5)","9-5":"9(b5)","9b5":"9(b5)","9(b5)":"9(b5)","9(-13)":"9(b13)","9-13":"9(b13)","9b13":"9(b13)","9(b13)":"9(b13)",x9:"9(#5)",aug9:"9(#5)","9(+5)":"9(#5)","9+5":"9(#5)","9#5":"9(#5)","9(#5)":"9(#5)","9(+11)":"9(#11)","9+11":"9(#11)","9#11":"9(#11)","9(#11)":"9(#11)","dom 9":"9",dom9:"9","7sus":"7sus4","7sus4":"7sus4","7sus(b9)":"7sus(b9)","7sus(6)":"7sus(6)","7b9sus4":"7b9sus4","7aug5":"7aug5","7(no3)":"7(no3)","7(b9b5)":"7(b9b5)","7(-13-9)":"7(b9b13)","7-13-9":"7(b9b13)","7b13b9":"7(b9b13)","7(b13b9)":"7(b9b13)","7(-9-13)":"7(b9b13)","7-9-13":"7(b9b13)","7b9b13":"7(b9b13)","7(b9b13)":"7(b9b13)","7(+5-9)":"7(b9#5)","7+5-9":"7(b9#5)","7#5b9":"7(b9#5)","7(#5b9)":"7(b9#5)","7(b9#5)":"7(b9#5)","7(-9)":"7(b9)","7-9":"7(b9)","7b9":"7(b9)","7(b9)":"7(b9)","7(-5-9)":"7(b5b9)","7-5-9":"7(b5b9)","7b5b9":"7(b5b9)","7(b5b9)":"7(b5b9)","7(-5+9)":"7(b5#9)","7-5+9":"7(b5#9)","7b5#9":"7(b5#9)","7(b5#9)":"7(b5#9)","7(-5+11)":"7(b5#11)","7-5+11":"7(b5#11)","7b5#11":"7(b5#11)","7(b5#11)":"7(b5#11)","7(-5)":"7(b5)","7-5":"7(b5)","7b5":"7(b5)","7(b5)":"7(b5)","7(-13)":"7(b13)","7-13":"7(b13)","7b13":"7(b13)","7(b13)":"7(b13)","7(6)":"7(6)","7(#9b5)":"7(#9b5)","7(-13+9)":"7(#9b13)","7-13+9":"7(#9b13)","7b13#9":"7(#9b13)","7(b13#9)":"7(#9b13)","7+9-13":"7(#9b13)","7(+9-13)":"7(#9b13)","7#9b13":"7(#9b13)","7(#9b13)":"7(#9b13)","7(+5+9)":"7(#9#5)","7+5+9":"7(#9#5)","7#5#9":"7(#9#5)","7(#5#9)":"7(#9#5)","7(#9#5)":"7(#9#5)","7(+9)":"7(#9)","7+9":"7(#9)","7#9":"7(#9)","7(#9)":"7(#9)","7(+5+11)":"7(#5#11)","7+5+11":"7(#5#11)","7#5#11":"7(#5#11)","7(#5#11)":"7(#5#11)","aug 7th":"7(#5)","aug 7":"7(#5)",x7:"7(#5)","7(+5)":"7(#5)","7+5":"7(#5)","7#5":"7(#5)",aug7:"7(#5)","7(#5)":"7(#5)","7(+11)":"7(#11)","7+11":"7(#11)","7#11":"7(#11)","7(#11)":"7(#11)","dom 7th":"7","dom 7":"7",dom7:"7","6(add9)":"6(9)","6(9)":"6(9)","6(no3)":"6(no3)","6(b9)":"6(b9)","6(2)":"6(2)","5(no3)":"5","(no 3rd)":"5","(no 3)":"5","(no3)":"5",no3:"5",sus42:"4(2)","4(2)":"4(2)","2(no3)":"2(no3)","2(ma7)":"2(ma7)","sus2(4)":"2(4)","2(4)":"2(4)","2(+7)":"2(+7)","2(#4)(#42)(2#4)":"2(#4)(#42)(2#4)","(#4)2":"2(#4)","2(#4)":"2(#4)","2(+4)":"2(#4)","2#4":"2(#4)","2+4":"2(#4)","2(#11)":"2(#11)","add9(no3)":"2",sus2:"2",m13sus:"13sus4",m13sus4:"13sus4","13sus":"13sus4","13sus4":"13sus4","13(-9-5)":"13(b9b5)","13-9-5":"13(b9b5)","13b9b5":"13(b9b5)","13(b9b5)":"13(b9b5)","13(-9+5)":"13(b9#5)","13-9+5":"13(b9#5)","13b9#5":"13(b9#5)","13(b9#5)":"13(b9#5)","13(-9)":"13(b9)","13-9":"13(b9)","13b9":"13(b9)","13(b9)":"13(b9)","13(-5)":"13(b5)","13-5":"13(b5)","13b5":"13(b5)","13(b5)":"13(b5)","13(add4)":"13(add4)","13+9-5":"13(#9b5)","13(+9-5)":"13(#9b5)","13#9b5":"13(#9b5)","13(#9b5)":"13(#9b5)","13+9+5":"13(#9#5)","13(+9+5)":"13(#9#5)","13#9#5":"13(#9#5)","13(#9#5)":"13(#9#5)","13+9":"13(#9)","13(+9)":"13(#9)","13#9":"13(#9)","13(#9)":"13(#9)","13(+5)":"13(#5)","13+5":"13(#5)","13#5":"13(#5)","13(#5)":"13(#5)","13(+11)":"13(#11)","13+11":"13(#11)","13#11":"13(#11)","13(#11)":"13(#11)","dom 13":"13",dom13:"13",m11sus:"11sus4",m11sus4:"11sus4","11sus":"11sus4","11sus4":"11sus4","11(-9)":"11(b9)","11-9":"11(b9)","11b9":"11(b9)","11(b9)":"11(b9)","11(-5)":"11(b5)","11-5":"11(b5)","11b5":"11(b5)","11(b5)":"11(b5)","11(-13)":"11(b13)","11-13":"11(b13)","11b13":"11(b13)","11(b13)":"11(b13)","11(+9)":"11(#9)","11+9":"11(#9)","11#9":"11(#9)","11(#9)":"11(#9)","11(+5)":"11(#5)","11+5":"11(#5)","11#5":"11(#5)","11(#5)":"11(#5)","dom 11":"11",dom11:"11",x:"+","(+5)":"+","+5":"+","#5":"+","(#5)":"+",aug:"+","+":"+",Majj:"[blank]",Ma:"[blank]",ma:"[blank]",M:"[blank]",major:"[blank]",maj:"[blank]","[blank]":"[blank]",unis:"(unis)","(unis)":"(unis)","(b6)":"(b6)","2(6)":"2(6)",b5:"(b5)","(-5)":"(b5)","-5":"(b5)","(b5)":"(b5)","(add9)":"(9)",add9:"(9)","(9)":"(9)","(7)":"(7)","(add6)":"(6)",add6:"(6)","(6)":"(6)","sus(4)":"(4)","(add4)":"(4)",add4:"(4)","(4)":"(4)","(add2)":"(2)",add2:"(2)","(2)":"(2)","(add13)":"(13)",add13:"(13)","(13)":"(13)","(add11)":"(11)",add11:"(11)","(11)":"(11)","(+4)":"(#4)","+4":"(#4)","#4":"(#4)","(#4)":"(#4)"};function F(t){return"[blank]"===P[t]?null:P[t]||t}const B=[...p].sort(((t,e)=>e.length-t.length)),R=[...B,...B.map((t=>t.toLowerCase()))].join("|"),z=[/^(?<modifier>#|b)?(?<base>[1-7])(?<suffix>[^/\s]*)(\/(?<bassModifier>#|b)?(?<bassBase>[0-7]))?$/,new RegExp(`^(?<modifier>#|b)?(?<base>${R})(?<suffix>[^/\\s]*)(\\/(?<bassModifier>#|b)?(?<bassBase>${R}))?$`),/^(?<base>[A-G])(?<modifier>#|b)?(?<suffix>[^/\s]*)(\/(?<bassBase>[A-G])(?<bassModifier>#|b)?)?$/i];class G{static parse(t){return k(t,G,z)}clone(){return this.set({})}toChordSymbol(t=null){if(this.isChordSymbol())return this.clone();const e=D.wrap(t),r=this.root.toChordSymbol(e).normalizeEnharmonics(e);let n=new G({suffix:F(this.suffix),root:r,bass:this.bass?.toChordSymbol(e).normalizeEnharmonics(r)});return this.root.isMinor()&&(n=n.makeMinor()),n}toChordSymbolString(t=null){return this.toChordSymbol(t).toString()}isChordSymbol(){return this.is(h)}toNumeric(t=null){if(this.isNumeric())return this.clone();if(this.isNumeral())return this.set({root:this.root.toNumeric(),bass:this.bass?.toNumeric()});const e=D.wrap(t);return new G({suffix:F(this.suffix),root:this.root.toNumeric(e),bass:this.bass?.toNumeric(e)})}toNumeral(t=null){if(this.isNumeral())return this.clone();if(this.isNumeric())return this.set({root:this.root.toNumeral(),bass:this.bass?.toNumeral()});const e=D.wrap(t);return new G({suffix:F(this.suffix),root:this.root.toNumeral(e),bass:this.bass?.toNumeral(e)})}toNumeralString(t=null){return this.toNumeral(t).toString()}isNumeric(){return this.is(f)}toNumericString(t=null){return this.toNumeric(t).toString()}isNumeral(){return this.is(b)}toString(){const t=this.root.toString({showMinor:!1})+(this.suffix||"");return this.bass?`${t}/${this.bass.toString()}`:t}normalize(t=null,{normalizeSuffix:e=!0}={}){const r=e?F(this.suffix):this.suffix;return E(t)?this.set({suffix:r,root:this.root.normalizeEnharmonics(t),bass:this.bass?this.bass.normalizeEnharmonics(this.root.toString()):null}):this.process("normalize").set({suffix:r})}useModifier(t){return this.process("useModifier",t)}transposeUp(){return this.process("transposeUp")}transposeDown(){return this.process("transposeDown")}transpose(t){return this.process("transpose",t)}constructor({base:t=null,modifier:e=null,suffix:r=null,bassBase:n=null,bassModifier:o=null,root:s=null,bass:a=null}){this.suffix=M(r);const i=r&&"m"===r[0]&&"maj"!==r.substring(0,3).toLowerCase();this.root=s||new D({note:t,modifier:e,minor:i}),this.bass=a||(n?new D({note:n,modifier:o,minor:i}):null)}makeMinor(){return this.suffix&&"m"===this.suffix[0]?this.clone():this.set({suffix:`m${this.suffix||""}`})}set(t){return new G({root:this.root.clone(),suffix:this.suffix,bass:this.bass?.clone(),...t})}get rootNote(){return this.root.note.note}process(t,e=null){return this.set({root:this.root[t](e),bass:this.bass?this.bass[t](e):null})}is(t){return this.root.is(t)&&(!this.bass||this.bass.is(t))}}var U=G;class V{constructor(t="",e=""){this.chords=t||"",this.lyrics=e||""}isRenderable(){return!0}clone(){return new V(this.chords,this.lyrics)}toString(){return`ChordLyricsPair(chords=${this.chords}, lyrics=${this.lyrics})`}set(t){return new V(t.chords||this.chords,t.lyrics||this.lyrics)}setLyrics(t){return this.set({lyrics:t})}transpose(t,e=null,{normalizeChordSuffix:r=!1}={}){const n=U.parse(this.chords);if(n){let o=n.transpose(t);return e&&(o=o.normalize(e,{normalizeSuffix:r})),this.set({chords:o.toString()})}return this.clone()}}var W=V,K=class{line=null;column=null;offset=null;constructor(t=null){t&&(this.line=t.line,this.column=t.column,this.offset=t.offset)}};const H="album",q="artist",Z="capo",J="comment",Q="composer",X="copyright",Y="duration",tt="end_of_chorus",et="end_of_tab",rt="end_of_verse",nt="key",ot="_key",st="lyricist",at="start_of_chorus",it="start_of_tab",mt="start_of_verse",ut="subtitle",ct="tempo",lt="time",ht="title",ft="new_key",bt="year",pt=[J],dt=[H,q,Z,Q,X,Y,nt,st,ct,lt,ht,ut,bt],yt=[ot],gt={t:ht,st:ut,c:J,soc:at,eoc:tt,sot:it,eot:et,nk:ft},vt=/^([^:\s]+)(:?\s*(.+))?$/,xt=/^x_(.+)$/;function Ct(t){return yt.includes(t)}class wt extends K{_isMetaTag=!1;constructor(t,e="",r=null){super(r),this.parseNameValue(t,e)}parseNameValue(t,e){if("meta"===t){const[t,r]=e.split(/\s(.+)/);this.name=t,this.value=r||"",this._isMetaTag=!0}else this.name=t,this.value=e||""}static parse(t){return t instanceof wt?t:this.parseWithRegex(t,vt)}static parseWithRegex(t,e){const r=t.match(e);return null!==r?new wt(r[1],r[3]||null):null}set name(t){this._name=(t=>{if(!t)return t;const e=t.trim();return e in gt?gt[e]:e})(t),this._originalName=t}get name(){return this._name.trim()}get originalName(){return this._originalName.trim()}set value(t){this._value=t}get value(){return this._value?`${this._value}`.trim():this._value||null}hasValue(){return null!==this.value&&this.value.trim().length>0}isRenderable(){return-1!==pt.indexOf(this.name)}isMetaTag(){return this._isMetaTag||xt.test(this.name)||-1!==dt.indexOf(this.name)}clone(){return new wt(this._originalName,this.value)}toString(){return`Tag(name=${this.name}, value=${this.name})`}set({value:t}){return new wt(this._originalName,t)}setValue(t){return this.set({value:t})}}var jt=wt;class _t{constructor(t){this.content=t}isRenderable(){return!1}clone(){return new _t(this.content)}toString(){return`Comment(content=${this.content})`}}var St=_t;class At{items=[];type=u;currentChordLyricsPair=null;key=null;transposeKey=null;constructor({type:t,items:e}={type:u,items:[]}){this.type=t,this.items=e}isEmpty(){return 0===this.items.length}addItem(t){t instanceof jt?this.addTag(t):t instanceof W?this.addChordLyricsPair(t):t instanceof St?this.addComment(t):this.items.push(t)}hasRenderableItems(){return this.items.some((t=>t.isRenderable()))}clone(){return this.mapItems(null)}mapItems(t){const e=new At;return e.items=this.items.map((e=>{const r=e.clone();return t?t(r):r})).filter((t=>t)),e.type=this.type,e}isVerse(){return this.type===i}isChorus(){return this.type===m}hasContent(){return this.hasRenderableItems()}addChordLyricsPair(t=null,e=null){return this.currentChordLyricsPair=t instanceof W?t:new W(t,e),this.items.push(this.currentChordLyricsPair),this.currentChordLyricsPair}ensureChordLyricsPair(){this.currentChordLyricsPair||this.addChordLyricsPair()}chords(t){this.ensureChordLyricsPair(),this.currentChordLyricsPair.chords+=t}lyrics(t){this.ensureChordLyricsPair(),this.currentChordLyricsPair.lyrics+=t}addTag(t,e=null){const r=t instanceof jt?t:new jt(t,e);return this.items.push(r),r}addComment(t){const e=t instanceof St?t:new St(t);return this.items.push(e),e}set(t){return new At({type:this.type,items:this.items,...t})}}var Et=At,Mt=class{lines=[];addLine(t){this.lines.push(t)}get type(){const t=this.lines.map((t=>t.type)),e=[...new Set(t)];return 1===e.length?e[0]:c}hasRenderableItems(){return this.lines.some((t=>t.hasRenderableItems()))}},Lt=class{get key(){return this.getMetadata(nt)}get title(){return this.getMetadata(ht)}get subtitle(){return this.getMetadata(ut)}get capo(){return this.getMetadata(Z)}get duration(){return this.getMetadata(Y)}get tempo(){return this.getMetadata(ct)}get time(){return this.getMetadata(lt)}get year(){return this.getMetadata(bt)}get album(){return this.getMetadata(H)}get copyright(){return this.getMetadata(X)}get lyricist(){return this.getMetadata(st)}get artist(){return this.getMetadata(q)}get composer(){return this.getMetadata(Q)}};class kt extends Lt{metadata={};constructor(t=null){super(),Object.keys(t||{}).filter((t=>!Ct(t))).forEach((e=>{const r=t[e];this.metadata[e]=r instanceof Array?[...r]:r}))}contains(t){return t in this.metadata}add(t,e){if(Ct(t))return;if(!(t in this.metadata))return void(this.metadata[t]=e);const r=this.metadata[t];r!==e&&(r instanceof Array?function(t,e,r){t.includes(r)||t.push(r)}(r,0,e):this.metadata[t]=[r,e])}set(t,e){e?this.metadata[t]=e:delete this.metadata[t]}getMetadata(t){return this.get(t)}get(t){return t===ot?this.calculateKeyFromCapo():t in this.metadata?this.metadata[t]:this.getArrayItem(t)}getSingle(t){const e=this.get(t);return Array.isArray(e)?e[0]:e}parseArrayKey(t){const e=t.match(/(.+)\.(-?\d+)$/);return e?[e[1],parseInt(e[2],10)]:[]}getArrayItem(t){const[e,r]=this.parseArrayKey(t);if(!e||!r)return;const n=this.metadata[e]||[];let o=r;return o<0?o=n.length+o:o>0&&(o-=1),n[o]}clone(){return new kt(this.metadata)}calculateKeyFromCapo(){const t=this.getSingle(Z),e=this.getSingle(nt);if(t&&e)return U.parse(e).transpose(parseInt(t,10)).toString()}}var Tt=kt;class $t extends Lt{lines=[];currentLine=null;warnings=[];sectionType=u;currentKey=null;transposeKey=null;constructor(t={}){super(),this.metadata=new Tt(t)}get previousLine(){const t=this.lines.length;return t>=2?this.lines[t-2]:null}get bodyLines(){return this.selectRenderableItems("_bodyLines","lines")}get bodyParagraphs(){return this.selectRenderableItems("_bodyParagraphs","paragraphs")}selectRenderableItems(t,e){if(void 0===this[t]){this[t]=[...this[e]];const r=this[t];for(;r.length>0&&!r[0].hasRenderableItems();)this[t].shift()}return this[t]}chords(t){this.currentLine.chords(t)}lyrics(t){this.ensureLine(),this.currentLine.lyrics(t)}addLine(t){return this.currentLine=t||((t,e)=>{const r=new e;return t.push(r),r})(this.lines,Et),this.setCurrentLineType(this.sectionType),this.currentLine.transposeKey=this.transposeKey??this.currentKey,this.currentLine.key=this.currentKey||this.metadata.getSingle(nt),this.currentLine}get paragraphs(){let t=new Mt;const e=[t];return this.lines.forEach((r=>{r.isEmpty()?(t=new Mt,e.push(t)):r.hasRenderableItems()&&t.addLine(r)})),e}setCurrentLineType(t){this.currentLine.type=t}ensureLine(){null===this.currentLine&&this.addLine()}addTag(t){const e=jt.parse(t);return e.isMetaTag()?this.setMetadata(e.name,e.value):"transpose"===e.name?this.transposeKey=e.value:e.name===ft?this.currentKey=e.value:this.setSectionTypeFromTag(e),this.ensureLine(),this.currentLine.addTag(e),e}setSectionTypeFromTag(t){switch(t.name){case at:this.startSection(m,t);break;case tt:this.endSection(m,t);break;case it:this.startSection(l,t);break;case et:this.endSection(l,t);break;case mt:this.startSection(i,t);break;case rt:this.endSection(i,t)}}startSection(t,e){this.checkCurrentSectionType(u,e),this.sectionType=t,this.setCurrentLineType(t)}endSection(t,e){this.checkCurrentSectionType(t,e),this.sectionType=u}checkCurrentSectionType(t,e){this.sectionType!==t&&this.addWarning(`Unexpected tag {${e.originalName}, current section is: ${this.sectionType}`,e)}addWarning(t,{line:e,column:r}){const n=new class{constructor(t,e,r){this.message=t,this.lineNumber=e,this.column=r}toString(){return`Warning: ${this.message} on line ${this.lineNumber} column ${this.column}`}}(t,e,r);this.warnings.push(n)}addItem(t){t instanceof jt?this.addTag(t):(this.ensureLine(),this.currentLine.addItem(t))}clone(){return this.mapItems((t=>t))}setMetadata(t,e){this.metadata.add(t,e)}get metaData(){return function(t){try{throw new Error(`DEPRECATION: ${t}`)}catch(e){const r=globalThis.process;"object"==typeof r&&"function"==typeof r.emitWarning?r.emitWarning(`${t}\n${e.stack}`):console.warn(`${t}\n${e.stack}`)}}('metaData has been deprecated, please use metadata instead (notice the lowercase "d")'),this.metadata}getMetadata(t){return this.metadata[t]||null}setKey(t){return this.changeMetadata(nt,t?t.toString():t)}setCapo(t){return this.changeMetadata(Z,t)}setDirective(t,e){return null===e?this.removeItem((e=>e instanceof jt&&e.name===t)):this.updateItem((e=>e instanceof jt&&e.name===t),(t=>t.set({value:e})),(r=>r.insertDirective(t,e)))}transpose(t,{normalizeChordSuffix:e=!1}={}){const r=D.wrap(this.key);let n=null,o=this;return r&&(n=r.transpose(t),o=o.setKey(n)),o.mapItems((r=>r instanceof W?r.transpose(t,n,{normalizeChordSuffix:e}):r))}transposeUp({normalizeChordSuffix:t=!1}={}){return this.transpose(1,{normalizeChordSuffix:t})}transposeDown({normalizeChordSuffix:t=!1}={}){return this.transpose(-1,{normalizeChordSuffix:t})}changeKey(t){const e=this.getTransposeDistance(t),r=this.mapItems((r=>r instanceof jt&&r.name===nt?r.set({value:t}):r instanceof W?r.transpose(e,t):r));return this.setKey(t),r}getTransposeDistance(t){const e=D.wrap(this.key);if(!e)throw new Error("\nCannot change song key, the original key is unknown.\n\nEither ensure a key directive is present in the song (when using chordpro):\n  `{key: C}`\n\nOr set the song key before changing key:\n  `song.setKey('C');`".substring(1));return e.distanceTo(t)}changeMetadata(t,e){const r=this.setDirective(t,e);return r.metadata.set(t,e),r}insertDirective(t,e,{after:r=null}={}){const n=this.lines.findIndex((t=>t.items.some((t=>!(t instanceof jt)||r&&t instanceof jt&&t.name===r)))),o=new Et;o.addTag(t,e);const s=this.clone(),{lines:a}=s;return s.lines=[...a.slice(0,n),o,...a.slice(n)],s}mapItems(t){const e=new $t;return this.lines.forEach((r=>{e.addLine(),r.items.forEach((r=>{const n=t(r);n&&e.addItem(n)}))})),e}mapLines(t){const e=new $t;return this.lines.forEach((r=>{const n=t(r);n&&(e.addLine(),n.items.forEach((t=>e.addItem(t))))})),e}updateItem(t,e,r){let n=!1;const o=this.mapItems((r=>t(r)?(n=!0,e(r)):r));return n?o:r(o)}removeItem(t){return this.mapLines((e=>{const{items:r}=e,n=r.findIndex(t);return-1===n?e:1===r.length?null:e.set({items:[...r.slice(0,n),...r.slice(n+1)]})}))}}var Ot=$t;class It extends Error{constructor(t,e,r,n){super(`${t} on line ${e} column ${r}`),this.name="ExpressionError",this.line=e,this.column=r,this.offset=n}}var Nt=It;class Dt{expressions=[];constructor(t,e=null){this.expressions=t,this.variable=e}evaluate(t,e){return this.expressions.map((r=>r.evaluate(t,e,this.variable))).join("")}isRenderable(){return!0}clone(){return new Dt({expressions:this.expressions.map((t=>t.clone())),variable:this.variable})}}var Pt=Dt;class Ft extends K{trueExpression=[];falseExpression=[];constructor({variable:t=null,valueTest:e=null,trueExpression:r=null,falseExpression:n=null,line:o=null,column:s=null,offset:a=null}={}){super({line:o,column:s,offset:a}),this.variable=M(t),this.valueTest=e,this.trueExpression=r,this.falseExpression=n}evaluate(t,e=null,r=null){if(this.variable)return this.evaluateWithVariable(t,e);if(!r)throw new Nt("Unexpected empty expression",this.line,this.column,this.offset);return this.evaluateToString(t.get(r),e)}evaluateToString(t,e){return Array.isArray(t)?t.join(e):t}evaluateWithVariable(t,e){const r=t.get(this.variable);return!E(r)||this.valueTest&&r!==this.valueTest?this.falseExpression?new Pt(this.falseExpression,this.variable).evaluate(t,e):"":this.evaluateForTruthyValue(t,e,r)}evaluateForTruthyValue(t,e,r){return this.trueExpression?new Pt(this.trueExpression,this.variable).evaluate(t,e):r}isRenderable(){return!0}clone(){return new Ft({variable:this.variable,valueTest:this.valueTest,trueExpression:this.trueExpression?.map((t=>t.clone())),falseExpression:this.falseExpression?.map((t=>t.clone())),line:this.line,column:this.column,offset:this.offset})}}var Bt=Ft;const Rt="chordSheet",zt="chordLyricsPair",Gt="ternary";var Ut=class{serialize(t){return{type:Rt,lines:t.lines.map((t=>this.serializeLine(t)))}}serializeLine(t){return{type:"line",items:t.items.map((t=>this.serializeItem(t)))}}serializeItem(t){if(t instanceof jt)return this.serializeTag(t);if(t instanceof W)return this.serializeChordLyricsPair(t);if(t instanceof Bt)return this.serializeTernary(t);if(t instanceof a)return this.serializeLiteral(t);throw new Error(`Don't know how to serialize ${t.constructor.name}`)}serializeTag(t){return{type:"tag",name:t.originalName,value:t.value}}serializeChordLyricsPair(t){return{type:zt,chords:t.chords,lyrics:t.lyrics}}serializeTernary(t){return{type:Gt,variable:t.variable,valueTest:t.valueTest,trueExpression:this.serializeExpression(t.trueExpression),falseExpression:this.serializeExpression(t.falseExpression)}}serializeLiteral(t){return t.string}serializeExpression(t){return t?.map((t=>this.serializeItem(t)))}deserialize(t){return this.parseAstComponent(t),this.song}parseAstComponent(t){if(!t)return null;if("string"==typeof t)return new a(t);const{type:e}=t;switch(e){case Rt:return this.parseChordSheet(t);case zt:return this.parseChordLyricsPair(t);case"tag":return this.parseTag(t);case"comment":return this.parseComment(t);case Gt:return this.parseTernary(t);default:console.warn(`Unhandled AST component "${e}"`,t)}return null}parseChordSheet(t){const{lines:e}=t;this.song=new Ot,e.forEach((t=>this.parseLine(t)))}parseLine(t){const{items:e}=t;this.song.addLine(),e.forEach((t=>{const e=this.parseAstComponent(t);this.song.addItem(e)}))}parseChordLyricsPair(t){const{chords:e,lyrics:r}=t;return new W(e,r)}parseTag(t){const{name:e,value:r,location:{offset:n=null,line:o=null,column:s=null}={}}=t;return new jt(e,r,{line:o,column:s,offset:n})}parseComment(t){const{comment:e}=t;return new St(e)}parseTernary(t){const{variable:e,valueTest:r,trueExpression:n,falseExpression:o,location:{offset:s=null,line:a=null,column:i=null}={}}=t;return new Bt({variable:e,valueTest:r,trueExpression:this.parseExpression(n),falseExpression:this.parseExpression(o),offset:s,line:a,column:i})}parseExpression(t){const e=(t||[]).map((t=>this.parseAstComponent(t)));return M(e)}};const Vt=/\s/,Wt=/^\s*((([A-G])(#|b)?([^/\s]*)(\/([A-G])(#|b)?)?)(\s|$)+)+(\s|$)+/;var Kt=class{processingText=!0;preserveWhitespace=!0;lines=[];currentLine=0;lineCount=0;constructor({preserveWhitespace:t=!0}={}){this.preserveWhitespace=!0===t}parse(t,{song:e=null}={}){for(this.initialize(t,{song:e});this.hasNextLine();){const t=this.readLine();this.parseLine(t)}return this.endOfSong(),this.song}endOfSong(){}parseLine(t){this.songLine=this.song.addLine(),0===t.trim().length?this.chordLyricsPair=null:this.parseNonEmptyLine(t)}parseNonEmptyLine(t){if(this.chordLyricsPair=this.songLine.addChordLyricsPair(),Wt.test(t)&&this.hasNextLine()){const e=this.readLine();this.parseLyricsWithChords(t,e)}else this.chordLyricsPair.lyrics=`${t}`}initialize(t,{song:e=null}={}){this.song=e||new Ot,this.lines=t.split("\n"),this.currentLine=0,this.lineCount=this.lines.length,this.processingText=!0}readLine(){const t=this.lines[this.currentLine];return this.currentLine+=1,t}hasNextLine(){return this.currentLine<this.lineCount}parseLyricsWithChords(t,e){this.processCharacters(t,e),this.chordLyricsPair.lyrics+=e.substring(t.length),this.chordLyricsPair.chords=this.chordLyricsPair.chords.trim(),this.chordLyricsPair.lyrics=this.chordLyricsPair.lyrics.trim(),e.trim().length||(this.songLine=this.song.addLine())}processCharacters(t,e){for(let r=0,n=t.length;r<n;r+=1){const n=t[r],o=t[r+1],s=Vt.test(n);this.addCharacter(n,o),this.chordLyricsPair.lyrics+=e[r]||"",this.processingText=!s}}addCharacter(t,e){const r=Vt.test(t);r||this.ensureChordLyricsPairInitialized(),r&&!this.shouldAddCharacterToChords(e)||(this.chordLyricsPair.chords+=t)}shouldAddCharacterToChords(t){return t&&Vt.test(t)&&this.preserveWhitespace}ensureChordLyricsPairInitialized(){this.processingText||(this.chordLyricsPair=this.songLine.addChordLyricsPair(),this.processingText=!0)}};var Ht=class{constructor(t={}){this.configuration=new class{constructor({evaluate:t=!1,metadata:e={separator:","}}){this.evaluate=t,this.metadata=new class{constructor({separator:t}){this.separator=t}}(e)}get(t){return e()(this,t)}}(t)}};function qt(t,e,r,n){let o=U.parse(t);const{capo:s,key:a}=n;return o?(o=o.transpose(function(t,e,r){let n=-1*(t||0);return E(e)&&E(r)&&(n+=function(t,e){return/^\d+$/.test(t)?parseInt(t,10):D.distance(e,t)}(e,r)),n}(s,r,a)),E(r)&&(o=o.useModifier(r.modifier)),E(e)&&(o=o.normalize(e)),o.toString()):t}JSON.parse('{"majorKeys":["A","Bb","B","C","C#","Db","D","Eb","E","F","F#","Gb","G","G#","Ab"],"minorKeys":["F#m","Gm","G#m","Am","Bbm","Bm","Cm","C#m","Dm","D#m","Ebm","Em","Fm"],"capos":{"Bb":{"1":"A","3":"G","6":"E","8":"D","10":"C"},"D":{"2":"C","5":"A","7":"G","10":"E"},"Eb":{"1":"D","3":"C","6":"A","8":"G"},"Db":{"1":"C","4":"A","6":"G","9":"E"},"C#":{"1":"C","4":"A","6":"G","9":"E"},"E":{"2":"D","4":"C","7":"A","9":"G"},"F":{"1":"E","3":"D","5":"C","6":"B","8":"A","10":"G"},"F#":{"2":"E","4":"D","6":"C","7":"B","9":"A"},"Gb":{"2":"E","4":"D","6":"C","7":"B","9":"A"},"G":{"3":"E","5":"D","7":"C","8":"B","10":"A"},"G#":{"1":"G","4":"E","6":"D","8":"C"},"Ab":{"1":"G","4":"E","6":"D","8":"C"},"A":{"2":"G","5":"E","7":"D","9":"C"},"B":{"2":"A","4":"G","7":"E","9":"D"},"C":{"3":"A","5":"G","8":"E","10":"D"},"Am":{"3":"F#m","5":"Em","7":"Dm"},"Bbm":{"1":"Am","4":"F#m","6":"Em","8":"Dm"},"Bm":{"2":"Am","5":"F#m","7":"Em"},"Cm":{"1":"Bm","3":"Am","6":"F#m","8":"Em"},"C#m":{"2":"Bm","4":"Am","7":"F#m","9":"Em"},"Dm":{"3":"Bm","5":"Am","8":"F#m"},"Ebm":{"1":"Dm","4":"Bm","6":"Am"},"D#m":{"1":"Dm","4":"Bm","6":"Am"}}}');const Zt=t=>t instanceof W,Jt=t=>t.items.some((t=>t.isRenderable())),Qt=t=>t instanceof jt,Xt=t=>"comment"===t.name;function Yt(t){return t.trim().replace(/(<\/[a-z]+>)\s+(<)/g,"$1$2").replace(/(\n)\s+/g,"")}function te(t,e){return t.map(e).join("")}function ee(t,e){return t?e():""}const re=t=>t.items.some((t=>t instanceof W&&t.lyrics||t instanceof jt&&t.isRenderable()||S(t))),ne=t=>{const e=["row"];return Jt(t)||e.push("empty-line"),e.join(" ")},oe=t=>{const e=["paragraph"];return t.type!==c&&t.type!==u&&e.push(t.type),e.join(" ")},se=(t,e,r)=>{if(!e)throw new Error("cannot evaluate, metadata is null");return t.evaluate(e,r.get("metadata.separator"))};var ae=class extends Ht{formatWithTemplate(t,e){return e({song:t,configuration:this.configuration})}},ie=({configuration:t,song:e,renderBlankLines:r=!1,song:{title:n,subtitle:o,bodyParagraphs:s,bodyLines:a,metadata:i}})=>Yt(`\n  ${ee(n,(()=>`<h1>${n}</h1>`))}\n  ${ee(o,(()=>`<h2>${o}</h2>`))}\n\n  ${ee(a.length>0,(()=>`\n    <div class="chord-sheet">\n      ${te(s,(n=>`\n        <div class="${oe(n)}">\n          ${te(n.lines,(n=>`\n            ${ee(r||Jt(n),(()=>`\n              <table class="${ne(n)}">\n                ${ee(_(n),(()=>`\n                  <tr>\n                    ${te(n.items,(t=>`\n                      ${ee(Zt(t),(()=>`\n                        <td class="chord">${qt(t.chords,n.key,n.transposeKey,e)}</td>\n                      `))}\n                    `))}\n                  </tr>\n                `))}\n                \n                ${ee(re(n),(()=>`\n                  <tr>\n                    ${te(n.items,(e=>`\n                      ${ee(Zt(e),(()=>`\n                        <td class="lyrics">${e.lyrics}</td>\n                      `))}\n                      \n                      ${ee(Qt(e)&&Xt(e),(()=>`\n                        <td class="comment">${e.value}</td>\n                      `))}\n                      \n                      ${ee(S(e),(()=>`\n                        <td class="lyrics">${se(e,i,t)}</td>\n                      `))}\n                    `))}\n                  </tr>\n                `))}\n              </table>\n            `))}\n          `))}\n        </div>\n      `))}\n    </div>\n  `))}\n`);const me={h1:{fontSize:"1.5em"},h2:{fontSize:"1.1em"},table:{borderSpacing:"0",color:"inherit"},td:{padding:"3px 0"},".chord:not(:last-child)":{paddingRight:"10px"},".paragraph":{marginBottom:"1em"}};var ue=class{parse(t){const e=function(t,e){const r={},n=(e=void 0!==e?e:{}).grammarSource,s={};let a=function(){let t,e,n;for(t=G,e=[],n=rt();n!==r;)e.push(n),n=rt();var o,s;return e!==r?(n=nt(),n===r&&(n=null),n!==r?(U=t,o=e,s=n,e={type:"chordSheet",lines:[...o,s]},t=e):(G=t,t=r)):(G=t,t=r),t};const i=J("#",!1),m=/^[^\r\n]/,u=Q(["\r","\n"],!0,!1),c=J("[",!1),l="]",h=J("]",!1),f=/^[^\]\r\n]/,b=Q(["]","\r","\n"],!0,!1),p="\\",d=J("\\",!1),y=J("%{",!1),g="}",v=J("}",!1),x=J("=",!1),C="|",w=J("|",!1),j=/^[a-zA-Z0-9\-_]/,_=Q([["a","z"],["A","Z"],["0","9"],"-","_"],!1,!1),S=/^[^|[\]\\{}%#\r\n]/,A=Q(["|","[","]","\\","{","}","%","#","\r","\n"],!0,!1),E=J("{",!1),M=J("%",!1),L=J(":",!1),k=/^[a-zA-Z\-_]/,T=Q([["a","z"],["A","Z"],"-","_"],!1,!1),$=/^[^}\\\r\n]/,O=Q(["}","\\","\r","\n"],!0,!1),I=X("whitespace"),N=/^[ \t\n\r]/,D=Q([" ","\t","\n","\r"],!1,!1),P=X("space"),F=/^[ \t]/,B=Q([" ","\t"],!1,!1),R=J("\n",!1),z=J("\r",!1);let G=0,U=0;const V=[{line:1,column:1}];let W,K=0,H=[],q=0;if(void 0!==e.startRule){if(!(e.startRule in s))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=s[e.startRule]}function Z(){return tt(U,G)}function J(t,e){return{type:"literal",text:t,ignoreCase:e}}function Q(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function X(t){return{type:"other",description:t}}function Y(e){let r,n=V[e];if(n)return n;for(r=e-1;!V[r];)r--;for(n=V[r],n={line:n.line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return V[e]=n,n}function tt(t,e){const r=Y(t),o=Y(e);return{source:n,start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:o.line,column:o.column}}}function et(t){G<K||(G>K&&(K=G,H=[]),H.push(t))}function rt(){let t,e,n;return t=G,e=nt(),e!==r?(n=function(){let t;return t=dt(),t===r&&(t=pt(),t===r&&(t=function(){let t,e,n;return t=G,e=dt(),e!==r?(n=pt(),n!==r?(e=[e,n],t=e):(G=t,t=r)):(G=t,t=r),t}())),t}(),n!==r?(U=t,t=e):(G=t,t=r)):(G=t,t=r),t}function nt(){let e,n,o,s,a,c,l;if(e=G,n=st(),n===r&&(n=null),n!==r){for(o=[],s=ot();s!==r;)o.push(s),s=ot();if(o!==r)if(s=at(),s===r&&(s=null),s!==r)if(a=function(){let e,n,o,s,a,c;if(e=G,n=bt(),n===r&&(n=null),n!==r)if(35===t.charCodeAt(G)?(o="#",G++):(o=r,0===q&&et(i)),o!==r){for(s=G,a=[],m.test(t.charAt(G))?(c=t.charAt(G),G++):(c=r,0===q&&et(u));c!==r;)a.push(c),m.test(t.charAt(G))?(c=t.charAt(G),G++):(c=r,0===q&&et(u));s=a!==r?t.substring(s,G):a,s!==r?(U=e,n=s,e=n):(G=e,e=r)}else G=e,e=r;else G=e,e=r;return e}(),a===r&&(a=null),a!==r){for(c=[],l=bt();l!==r;)c.push(l),l=bt();c!==r?(U=e,f=o,b=s,p=a,n={type:"line",items:[(h=n)?{type:"chordLyricsPair",chords:"",lyrics:h}:null,...f,b?{type:"chordLyricsPair",chords:b,lyrics:""}:null,p?{type:"comment",comment:p}:null].filter((t=>t))},e=n):(G=e,e=r)}else G=e,e=r;else G=e,e=r;else G=e,e=r}else G=e,e=r;var h,f,b,p;return e}function ot(){let e;return e=function(){let e,n,o,s,a,i,m,u;return e=G,123===t.charCodeAt(G)?(n="{",G++):(n=r,0===q&&et(E)),n!==r?(o=ft(),o!==r?(s=G,a=function(){let e,n;if(e=[],k.test(t.charAt(G))?(n=t.charAt(G),G++):(n=r,0===q&&et(T)),n!==r)for(;n!==r;)e.push(n),k.test(t.charAt(G))?(n=t.charAt(G),G++):(n=r,0===q&&et(T));else e=r;return e}(),s=a!==r?t.substring(s,G):a,s!==r?(a=ft(),a!==r?(i=function(){let e,n,o,s;return e=G,58===t.charCodeAt(G)?(n=":",G++):(n=r,0===q&&et(L)),n!==r?(o=ft(),o!==r?(s=function(){let t,e;for(t=[],e=ht();e!==r;)t.push(e),e=ht();return t}(),s!==r?(U=e,n=s.map((t=>t.char||t)).join(""),e=n):(G=e,e=r)):(G=e,e=r)):(G=e,e=r),e}(),i===r&&(i=null),i!==r?(m=ft(),m!==r?(125===t.charCodeAt(G)?(u=g,G++):(u=r,0===q&&et(v)),u!==r?(U=e,n={type:"tag",name:s,value:i,location:Z().start},e=n):(G=e,e=r)):(G=e,e=r)):(G=e,e=r)):(G=e,e=r)):(G=e,e=r)):(G=e,e=r)):(G=e,e=r),e}(),e===r&&(e=function(){let e,n,o,s,a;if(e=G,n=at(),n!==r){for(o=G,s=[],a=st();a!==r;)s.push(a),a=st();o=s!==r?t.substring(o,G):s,o!==r?(U=e,n={type:"chordLyricsPair",chords:n||"",lyrics:o},e=n):(G=e,e=r)}else G=e,e=r;return e}(),e===r&&(e=mt())),e}function st(){let t,e,n;if(t=G,e=[],n=ct(),n!==r)for(;n!==r;)e.push(n),n=ct();else e=r;return e!==r&&(U=t,e=e.map((t=>t.char||t)).join("")),t=e,t}function at(){let e,n,o,s,a;if(e=G,n=G,q++,o=yt(),q--,o===r?n=void 0:(G=n,n=r),n!==r)if(91===t.charCodeAt(G)?(o="[",G++):(o=r,0===q&&et(c)),o!==r){for(s=[],a=it();a!==r;)s.push(a),a=it();s!==r?(93===t.charCodeAt(G)?(a=l,G++):(a=r,0===q&&et(h)),a!==r?(U=e,n=s.map((t=>t.char||t)).join(""),e=n):(G=e,e=r)):(G=e,e=r)}else G=e,e=r;else G=e,e=r;return e}function it(){let e,n,o,s;return f.test(t.charAt(G))?(e=t.charAt(G),G++):(e=r,0===q&&et(b)),e===r&&(e=G,n=yt(),n!==r?(o=G,92===t.charCodeAt(G)?(s=p,G++):(s=r,0===q&&et(d)),s!==r&&(U=o,s={type:"char",char:"\\"}),o=s,o===r&&(o=G,93===t.charCodeAt(G)?(s=l,G++):(s=r,0===q&&et(h)),s!==r&&(U=o,s={type:"char",char:"]"}),o=s),o!==r?(U=e,n=o,e=n):(G=e,e=r)):(G=e,e=r)),e}function mt(){let e,n,o,s,a,i,m,u,c;var l,h,f;return e=G,"%{"===t.substr(G,2)?(n="%{",G+=2):(n=r,0===q&&et(y)),n!==r?(o=ft(),o!==r?(s=G,a=function(){let e,n;if(e=[],j.test(t.charAt(G))?(n=t.charAt(G),G++):(n=r,0===q&&et(_)),n!==r)for(;n!==r;)e.push(n),j.test(t.charAt(G))?(n=t.charAt(G),G++):(n=r,0===q&&et(_));else e=r;return e}(),a===r&&(a=null),s=a!==r?t.substring(s,G):a,s!==r?(a=function(){let e,n,o,s;return e=G,61===t.charCodeAt(G)?(n="=",G++):(n=r,0===q&&et(x)),n!==r?(o=ft(),o!==r?(s=function(){let e,n,o;if(e=G,n=[],o=lt(),o!==r)for(;o!==r;)n.push(o),o=lt();else n=r;return e=n!==r?t.substring(e,G):n,e}(),s!==r?(U=e,n=s,e=n):(G=e,e=r)):(G=e,e=r)):(G=e,e=r),e}(),a===r&&(a=null),a!==r?(i=ft(),i!==r?(m=function(){let e,n,o,s,a,i,m;return e=G,124===t.charCodeAt(G)?(n=C,G++):(n=r,0===q&&et(w)),n!==r?(o=ft(),o!==r?(s=ut(),s!==r?(a=ft(),a!==r?(i=function(){let e,n,o,s;return e=G,124===t.charCodeAt(G)?(n=C,G++):(n=r,0===q&&et(w)),n!==r?(o=ft(),o!==r?(s=ut(),s!==r?(U=e,n=s,e=n):(G=e,e=r)):(G=e,e=r)):(G=e,e=r),e}(),i===r&&(i=null),i!==r?(m=ft(),m!==r?(U=e,n={type:"ternary",trueExpression:s,falseExpression:i,location:Z().start},e=n):(G=e,e=r)):(G=e,e=r)):(G=e,e=r)):(G=e,e=r)):(G=e,e=r)):(G=e,e=r),e}(),m===r&&(m=null),m!==r?(u=ft(),u!==r?(125===t.charCodeAt(G)?(c=g,G++):(c=r,0===q&&et(v)),c!==r?(U=e,h=a,f=m,n={type:"ternary",variable:(l=s).length>0?l:null,valueTest:h,...f,location:Z().start},e=n):(G=e,e=r)):(G=e,e=r)):(G=e,e=r)):(G=e,e=r)):(G=e,e=r)):(G=e,e=r)):(G=e,e=r)):(G=e,e=r),e}function ut(){let e,n,o,s;if(e=[],n=G,o=[],s=lt(),s!==r)for(;s!==r;)o.push(s),s=lt();else o=r;if(n=o!==r?t.substring(n,G):o,n===r&&(n=mt()),n!==r)for(;n!==r;){if(e.push(n),n=G,o=[],s=lt(),s!==r)for(;s!==r;)o.push(s),s=lt();else o=r;n=o!==r?t.substring(n,G):o,n===r&&(n=mt())}else e=r;return e}function ct(){let e,n;return e=lt(),e===r&&(e=G,93===t.charCodeAt(G)?(n=l,G++):(n=r,0===q&&et(h)),n!==r&&(U=e,n={type:"char",char:"]"}),e=n,e===r&&(e=G,124===t.charCodeAt(G)?(n=C,G++):(n=r,0===q&&et(w)),n!==r&&(U=e,n={type:"char",char:"|"}),e=n,e===r&&(e=G,125===t.charCodeAt(G)?(n=g,G++):(n=r,0===q&&et(v)),n!==r&&(U=e,n={type:"char",char:"}"}),e=n))),e}function lt(){let e,n,o,s;return S.test(t.charAt(G))?(e=t.charAt(G),G++):(e=r,0===q&&et(A)),e===r&&(e=G,n=yt(),n!==r?(o=G,92===t.charCodeAt(G)?(s=p,G++):(s=r,0===q&&et(d)),s!==r&&(U=o,s={type:"char",char:"\\"}),o=s,o===r&&(o=G,124===t.charCodeAt(G)?(s=C,G++):(s=r,0===q&&et(w)),s!==r&&(U=o,s={type:"char",char:"|"}),o=s,o===r&&(o=G,91===t.charCodeAt(G)?(s="[",G++):(s=r,0===q&&et(c)),s!==r&&(U=o,s={type:"char",char:"["}),o=s,o===r&&(o=G,93===t.charCodeAt(G)?(s=l,G++):(s=r,0===q&&et(h)),s!==r&&(U=o,s={type:"char",char:"]"}),o=s,o===r&&(o=G,123===t.charCodeAt(G)?(s="{",G++):(s=r,0===q&&et(E)),s!==r&&(U=o,s={type:"char",char:"{"}),o=s,o===r&&(o=G,125===t.charCodeAt(G)?(s=g,G++):(s=r,0===q&&et(v)),s!==r&&(U=o,s={type:"char",char:"}"}),o=s,o===r&&(o=G,37===t.charCodeAt(G)?(s="%",G++):(s=r,0===q&&et(M)),s!==r&&(U=o,s={type:"char",char:"%"}),o=s,o===r&&(o=G,35===t.charCodeAt(G)?(s="#",G++):(s=r,0===q&&et(i)),s!==r&&(U=o,s={type:"char",char:"#"}),o=s))))))),o!==r?(U=e,n=o,e=n):(G=e,e=r)):(G=e,e=r)),e}function ht(){let e,n,o,s;return $.test(t.charAt(G))?(e=t.charAt(G),G++):(e=r,0===q&&et(O)),e===r&&(e=G,n=yt(),n!==r?(o=G,92===t.charCodeAt(G)?(s=p,G++):(s=r,0===q&&et(d)),s!==r&&(U=o,s={type:"char",char:"\\"}),o=s,o===r&&(o=G,125===t.charCodeAt(G)?(s=g,G++):(s=r,0===q&&et(v)),s!==r&&(U=o,s={type:"char",char:"}"}),o=s,o===r&&(o=G,123===t.charCodeAt(G)?(s="{",G++):(s=r,0===q&&et(E)),s!==r&&(U=o,s={type:"char",char:"{"}),o=s)),o!==r?(U=e,n=o,e=n):(G=e,e=r)):(G=e,e=r)),e}function ft(){let e,n;for(q++,e=[],N.test(t.charAt(G))?(n=t.charAt(G),G++):(n=r,0===q&&et(D));n!==r;)e.push(n),N.test(t.charAt(G))?(n=t.charAt(G),G++):(n=r,0===q&&et(D));return q--,e===r&&(n=r,0===q&&et(I)),e}function bt(){let e,n;if(q++,e=[],F.test(t.charAt(G))?(n=t.charAt(G),G++):(n=r,0===q&&et(B)),n!==r)for(;n!==r;)e.push(n),F.test(t.charAt(G))?(n=t.charAt(G),G++):(n=r,0===q&&et(B));else e=r;return q--,e===r&&(n=r,0===q&&et(P)),e}function pt(){let e;return 10===t.charCodeAt(G)?(e="\n",G++):(e=r,0===q&&et(R)),e}function dt(){let e;return 13===t.charCodeAt(G)?(e="\r",G++):(e=r,0===q&&et(z)),e}function yt(){let e;return 92===t.charCodeAt(G)?(e=p,G++):(e=r,0===q&&et(d)),e}if(W=a(),W!==r&&G===t.length)return W;throw W!==r&&G<t.length&&et({type:"end"}),gt=H,vt=K<t.length?t.charAt(K):null,xt=K<t.length?tt(K,K+1):tt(K,K),new o(o.buildMessage(gt,vt),gt,vt,xt);var gt,vt,xt}(t);return this.song=(new Ut).deserialize(e),this.song}get warnings(){return this.song.warnings}},ce=Kt,le=class extends Ht{format(t){return this.song=t,[this.formatHeader(),this.formatParagraphs()].join("")}formatHeader(){const{title:t,subtitle:e}=this.song,r=t||e?"\n":"";return[this.formatTitle(t),this.formatSubTitle(e),r].join("")}formatParagraphs(){const{bodyParagraphs:t,metadata:e}=this.song;return t.map((t=>this.formatParagraph(t,e))).join("\n\n")}formatParagraph(t,e){return t.lines.filter((t=>t.hasRenderableItems())).map((t=>this.formatLine(t,e))).join("\n")}formatLine(t,e){return[this.formatLineTop(t),this.formatLineBottom(t,e)].filter((t=>null!==t)).map((t=>t.trimRight())).join("\n")}formatTitle(t){return t?`${t.toUpperCase()}\n`:""}formatSubTitle(t){return t?`${t}\n`:""}formatLineTop(t){return _(t)?this.formatLineWithFormatter(t,this.formatItemTop):null}chordLyricsPairLength(t,e){const r=qt(t.chords,e.key,e.transposeKey,this.song),{lyrics:n}=t,o=(r||"").length,s=(n||"").length;return o>=s?o+1:Math.max(o,s)}formatItemTop(t,e,r){if(t instanceof jt&&t.isRenderable())return A("",t.value);if(t instanceof W){const e=qt(t.chords,r.key,r.transposeKey,this.song);return A(e,this.chordLyricsPairLength(t,r))}return""}formatLineBottom(t,e){return re(t)?this.formatLineWithFormatter(t,this.formatItemBottom,e):null}formatLineWithFormatter(t,e,r=null){return t.items.map((n=>e.call(this,n,r,t))).join("")}formatItemBottom(t,e,r){return t instanceof jt&&t.isRenderable()?t.value:t instanceof W?A(t.lyrics,this.chordLyricsPairLength(t,r)):"function"==typeof t.evaluate?t.evaluate(e,this.configuration.get("metadata.separator")):""}},he=class extends ae{format(t){return this.formatWithTemplate(t,ie)}static cssString(t=""){return L(me,t)}static cssObject(){return me}},fe=class extends Ht{format(t){const{lines:e,metadata:r}=t;return e.map((t=>this.formatLine(t,r))).join("\n")}formatLine(t,e){return t.items.map((t=>this.formatItem(t,e))).join("")}formatItem(t,e){if(t instanceof jt)return this.formatTag(t);if(t instanceof W)return this.formatChordLyricsPair(t);if("function"==typeof t.evaluate)return this.formatOrEvaluateItem(t,e);throw new Error(`Don't know how to format a ${t.constructor.name}`)}formatOrEvaluateItem(t,e){if(this.configuration.evaluate)return t.evaluate(e,this.configuration.get("metadata.separator"));if(t instanceof Bt)return this.formatTernary(t);if(t instanceof a)return t.evaluate();throw new Error(`Don't know how to format a ${t.constructor.name}`)}formatTernary(t){const{variable:e,valueTest:r,trueExpression:n,falseExpression:o}=t;return["%{",e||"",this.formatValueTest(r),this.formatExpressionRange(n),this.formatExpressionRange(o),"}"].join("")}formatValueTest(t){return t?`=${t}`:""}formatExpressionRange(t){return t?`|${t.map((t=>this.formatExpression(t))).join("")}`:""}formatExpression(t){return t instanceof Bt?this.formatTernary(t):t instanceof a?t.string:""}formatTag(t){return t.hasValue()?`{${t.originalName}: ${t.value}}`:`{${t.originalName}}`}formatChordLyricsPair(t){return[this.formatChordLyricsPairChords(t),this.formatChordLyricsPairLyrics(t)].join("")}formatChordLyricsPairChords(t){return t.chords?`[${t.chords}]`:""}formatChordLyricsPairLyrics(t){return t.lyrics||""}},be=W,pe=r(379),de=r.n(pe),ye=r(795),ge=r.n(ye),ve=r(569),xe=r.n(ve),Ce=r(565),we=r.n(Ce),je=r(216),_e=r.n(je),Se=r(589),Ae=r.n(Se),Ee=r(327),Me={};Me.styleTagTransform=Ae(),Me.setAttributes=we(),Me.insert=xe().bind(null,"head"),Me.domAPI=ge(),Me.insertStyleElement=_e(),de()(Ee.Z,Me),Ee.Z&&Ee.Z.locals&&Ee.Z.locals;var Le=r(662);const ke=(t,e)=>{const r=((t,e)=>{const r=t.clone();return r.lines=t.lines.map((t=>{const r=t.clone();return r.items=t.items.map((t=>((t,e)=>{if(t instanceof be&&t.chords){const r=(0,Le.Qc)(t.chords);if(r){const n=t.clone();return n.chords=e(r).toString(),n}}return t})(t,e))),r})),r})((new ue).parse(t),e);return(new fe).format(r)},Te=t=>ke(t,(t=>t.transposeUp())),$e=t=>ke(t,(t=>t.transposeDown())),Oe=t=>ke(t,(t=>t.useModifier("#"))),Ie=t=>ke(t,(t=>t.useModifier("b")));var Ne=r(563),De=r(961),Pe=r.n(De);function Fe(){return Ne.parse(window.location.hash)}function Be(t){window.location.hash=Ne.stringify(t)}const Re=class{constructor(t){this.containerID=t,this.container=document.getElementById(t),this.setup()}setup(){}onClick(t,e){this.bindEvent(t,"click",e)}onChange(t,e){this.bindEvent(t,"change",e)}bindEvent(t,e,r){this.element(t).addEventListener(e,r)}element(t){return document.getElementById(`${this.containerID}__${t}`)}};class ze{constructor(t){this.value=t,this.valueWas=void 0}set(t){this.valueWas=this.value,this.value=t}}const Ge={html:he,text:le};let Ue=null;const Ve=new class extends Re{onChordSheetChange=()=>{};errorLineNumber=function(t){return new ze(t)}(null);setup(){this.container.addEventListener("input",function(t,e=100){let r=null;return function(...n){r&&clearTimeout(r);const o=t.bind(null,...n);r=setTimeout(o,e)}}((()=>{this.onChordSheetChange(this.getValue()),this.updateLineNumbers()}))),this.container.addEventListener("scroll",(()=>{this.lineNumbersContainer.scrollTop=this.container.scrollTop}))}get lineNumbersContainer(){return this.element("lineNumbers")}updateLineNumbers(){const t=this.lineNumbersContainer.innerText.split("\n").filter((t=>t)),e=this.getValue().split("\n").length,r=this.errorLineNumber.valueWas,n=this.errorLineNumber.value;for(r&&(t[r-1]=`${r}`),n&&(t[n-1]=`<div class="LineNumbers__error">${n}</div>`),t.length>e&&t.splice(e);t.length<e;)t.push(`${t.length+1}`);this.lineNumbersContainer.innerHTML=t.join("<br>")}getSelectionRange(){const{selectionStart:t,selectionEnd:e}=this.container;return[t,e]}setSelectionRange(t,e){this.container.setSelectionRange(t,e)}focus(){this.container.focus()}getValue(){return this.container.value}setValue(t){this.container.value=t,this.updateLineNumbers()}setError(t){this.element("errorMessage").innerText=t}showError(t,e){this.setError(`Line ${e}: ${t}`),this.errorLineNumber.set(e)}resetError(){this.setError(""),this.errorLineNumber.set(null)}transformChordSheet(t){const[e,r]=this.getSelectionRange(),n=this.getValue();if(e===r){const r=t(n),o=this.calculateNewCursorPosition(n,r,e);this.setValue(r),this.focus(),this.setSelectionRange(o,o)}else{const o=n.slice(e,r),s=n.slice(0,e),a=n.slice(r),i=t(o);this.setValue([s,i,a].join("")),this.focus(),this.setSelectionRange(e,e+i.length)}}calculateNewCursorPosition(t,e,r){return 0===r?0:r===t.length-1?e.length:r}}("chordSheetEditor"),We=new class extends Re{onDisplayModeChanged=()=>{};setup(){this.onChange("displayModeHtml",(()=>this.displayModeChanged())),this.onChange("displayModeText",(()=>this.displayModeChanged()))}displayModeChanged(){const t=this.getSelectedMode();this.onDisplayModeChanged(t)}render(t){const e=this.getSelectedMode(),r=this.element("outlet");r.dataset.mode=e;const n=(new Ge[e]).format(t);"text"===e?r.innerText=n:r.innerHTML=n}getDisplayModeRadios(){const t=this.element("displayModeHtml");return Array.from(t.form[t.name])}getSelectedMode(){return this.getDisplayModeRadios().find((t=>t.checked)).value}setSelectedMode(t){this.getDisplayModeRadios().find((e=>e.value===t)).checked=!0}}("chordSheetViewer");function Ke(t){!function(t){const{display_mode:e}=Fe();var r;Be({display_mode:e,chord_sheet:(r=t,Pe().compressToEncodedURIComponent(r))})}(t);try{const e=new ue;Ue=e.parse(t),We.render(Ue),Ve.resetError()}catch({message:t,location:e}){Ve.showError(t,e.start.line)}}Ve.onChordSheetChange=Ke,We.onDisplayModeChanged=t=>{!function(t){const{chord_sheet:e}=Fe();Be({display_mode:t,chord_sheet:e})}(t),We.render(Ue)};const He=new class extends Re{onImportConfirmed=()=>{};setup(){this.onClick("confirmButton",(()=>{const t=this.element("editor"),e=t.value;t.value="",this.close(),this.onImportConfirmed(e)})),this.onClick("closeButton",(()=>this.close()))}setOpen(t){this.container.classList.toggle("ImportDialog--visible",t)}open(){this.setOpen(!0),this.element("editor").focus()}close(){this.setOpen(!1)}}("importDialog");He.onImportConfirmed=t=>{const e=(t=>{const e=new ce({preserveWhitespace:!1}),r=new fe,n=e.parse(t);return r.format(n)})(t);Ve.setValue(e),Ke(e)};const qe=new class extends Re{onTransformClick=()=>{};onImportChordSheetClick=()=>{};setup(){this.onClick("transposeDown",(()=>this.onTransformClick($e))),this.onClick("transposeUp",(()=>this.onTransformClick(Te))),this.onClick("switchToSharp",(()=>this.onTransformClick(Oe))),this.onClick("switchToFlat",(()=>this.onTransformClick(Ie))),this.onClick("importChordSheet",(()=>this.onImportChordSheetClick()))}}("toolbar");qe.onTransformClick=t=>Ve.transformChordSheet(t),qe.onImportChordSheetClick=()=>He.open();const{chordSheet:Ze,displayMode:Je}=function(){const{display_mode:t,chord_sheet:e}=Fe();return{displayMode:t,chordSheet:(r=e,Pe().decompressFromEncodedURIComponent(r))};var r}();Je&&We.setSelectedMode(Je),Ze?(Ve.setValue(Ze),Ke(Ze)):Ke(Ve.getValue()),Ve.updateLineNumbers()})()})();